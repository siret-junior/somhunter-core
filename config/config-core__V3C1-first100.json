{
	"api": {
		"port": 8888,
        "config_filepath": "config/config-api.json",
		"docs_dir": "docs/api/",
		"endpoints": {
            "settings": {
                "get": {
                    "url": "/settings"
                }
            },
            "frameDetail": {
                "get": {
                    "url": "/get_frame_detail_data"
                }
            },
            "textSearchSuggestions": {
                "get": {
                    "url": "/get_autocomplete_results"
                }
            },
            "screenTop": {
                "post": {
                    "url": "/get_top_screen"
                }
            },
            "screenSom": {
                "post": {
                    "url": "/get_som_screen"
                }
            },
            "logBrowsingScroll": {
                "get": {
                    "url": "/log_scroll"
                }
            },
            "logTextChange": {
                "get": {
                    "url": "/log_text_query_change"
                }
            },
            "serverSubmitFrame": {
                "post": {
                    "url": "/submit_frame"
                }
            },
            "serverLogin": {
                "post": {
                    "url": "/login_to_dres"
                }
            },
            "searchReset": {
                "post": {
                    "url": "/reset_search_session"
                }
            },
            "searchRescore": {
                "post": {
                    "url": "/rescore"
                }
            },
            "searchLike": {
                "post": {
                    "url": "/like_frame"
                }
            },
            "searchBookmark": {
                "post": {
                    "url": "/search/bookmark"
                }
            },
            "searchContext": {
                "get": {
                    "url": "/search/context"
                },
                "post": {
                    "url": "/search/context"
                }
            },
            "userContext": {
                "get": {
                    "url": "/user/context"
                }
            }
        }
	},
	
	"data-server": {},

	"server": {
		"this_should_be_eliminated_": "",
		"appName": "SOMHunter",
        "appSubname": "The interactive search tool.",
        "useHttp2": false,
        "certFilepath": "config/cert/server.pem",
        "privKeyFilepath": "config/cert/server.key",
        "coreConfigFilepath": "config.json",
        "logsDir": "logs/",
        "uiRoot": "ui/",
        "uiImgDir": "ui/public/assets/img/",
        "screenshotDefault": "/assets/img/history_screenshot.jpg",
        "uiTempImgDirPub": "/assets/img/tmp",
        "uiTempImgDir": "ui/public/assets/img/tmp",
        "uiConfigFilepath": "ui/src/__config_generated__.json",
        "apiPassword": "som",
        "apiUsername": "hunter"
	},

	"ui": {
		"videoReplay": {
            "slideSpeed": 50,
            "thumbWidth": 200
        },
        "videoDetail": {
            "thumbWidth": 150,
            "gridWidth": 8,
            "gridHeight": 8
        },
        "queries": {
            "text": false,
            "filters": false,
            "collage": true
        },
        "media": {
            "thumbsPathPrefix": "/frames/",
            "framesPathPrefix": "/frames/"
        },
        "history": {
            "screenshotNumX": 3,
            "screenshotNumY": 3
        },
        "autocomplete": {
            "numSuggestions": 10,
            "numExampleFrames": 5
        },
        "frameGrid": {
            "infiniteScrollThreshold": 1000,
            "infiniteScrollTimeout": 1000,
            "defaultRescoreDisplay": "topn_display",
            "defaultSecondaryRescoreDisplay": "SOM_display"
        },
        "textSearch": {
            "showMetadataFilters": true,
            "autocompleteDelay": 200
        },
        "htmlElIds": {
            "queryFilters": "queryFilters",
            "queryFiltersWeekdays": "queryFiltersWeekdays",
            "queryFiltersHourFrom": "queryFiltersHourFrom",
            "queryFiltersHourTo": "queryFiltersHourTo"
        }
	},

	"strings": {
		"this_should_be_eliminated_": "",
		"displayTypes": {
            "som": "SOM_display",
            "topn": "topn_display",
            "topnContext": "topn_context_display",
            "topknn": "topknn_display",
            "detail": "video_detail",
            "replay": "video_replay"
        },
        "ui": {
            "UNABLE_TO_FETCH_CORE_SETTINGS_HEADING": "Unable to fetch core settings!",
            "UNABLE_TO_FETCH_CORE_SETTINGS_DESC": "Check if the SOMHunter Core API server is running at ",
            "UNABLE_TO_FETCH_CORE_SETTINGS_ACTION": "Reload",
            "LOADING_CORE_SETTINGS_HEADING": "Loading Core API settings.",
            "LOADING_CORE_SETTINGS_DESC": "This may take a while.",
            "UNABLE_TO_FETCH_SEARCH_STATE_HEADING": "Unable to fetch search state!",
            "UNABLE_TO_FETCH_SEARCH_STATE_DESC": "Check if the SOMHunter Core API server is resonding at ",
            "UNABLE_TO_FETCH_SEARCH_STATE_ACTION": "Reload",
            "LOADING_SEARCH_STATE_HEADING": "Loading the current search session state.",
            "LOADING_SEARCH_STATE_DESC": "This may take a while."
        }
	},

	"core": {
		"user_token": "admin",
		"submitter_config":{
			"submit_to_VBS": false,

			"submit_server": "dres",
			"server_config": {
				"vbs": {
					"submit_interaction_URL": "http://herkules.ms.mff.cuni.cz:8080/vbs/query",
					"submit_rerank_URL": "http://herkules.ms.mff.cuni.cz:8080/vbs/log",
					"submit_URL": "http://herkules.ms.mff.cuni.cz:8080/vbs/submit"
				},
				"dres": {
					"submit_interaction_URL": "localhost:1234/log/query",
					"submit_rerank_URL": "localhost:1234/log/result",
					"submit_URL": "localhost:1234/submit",
					"cookie_file": "cookie.txt",
					"login_URL": "localhost:1234/api/login/",
					"username": "somhunter",
					"password": "ZW6cVRXk"
				}
			},
		
			"team_ID": 4,
			"member_ID": 1,
		
			"log_submitted_dir": "logs/submitted_logs/",
			"log_actions_dir": "logs/actions/",
			"log_queries_dir": "logs/queries/",
			"log_requests_dir": "logs/requests/",
			"log_file_suffix": ".json",
			"extra_verbose_log": false,
		
			"send_logs_to_server_period": 10000,
			"apply_log_action_timeout_in_core": false,
			"log_action_timeout": 500
		},

		"max_frame_filename_len": 64,
		"display_page_size": 128,
		"topn_frames_per_video": 0,
		"topn_frames_per_shot": 0,
		
		"model_W2VV_img_bias": "data/nn_models/w2vv-img_bias-2048floats.bin",
		"model_W2VV_img_weigths": "data/nn_models/w2vv-img_weight-2048x4096floats.bin",
		
		"model_ResNet_file": "data/nn_models/traced_Resnet152.pt",
		"model_ResNet_URL": "http://herkules.ms.mff.cuni.cz:8889/data/nn_models/traced_Resnet152.pt",
		"model_ResNet_SHA256": "9c90dd6ac9dd9792ff1bd7da36749ccba713d15b3bb03c890b3bc6fa891ff75e",

		"model_ResNext_file": "data/nn_models/traced_Resnext101.pt",
		"model_ResNext_URL": "http://herkules.ms.mff.cuni.cz:8889/data/nn_models/traced_Resnext101.pt",
		"model_ResNext_SHA256": "d5c990df4ec76d2a0671e8d61717fa0cf27e90cc627750d41c1be443ea36b9f9",

        
		"models_dir": "data/nn_models/",

		"ui_dir": "ui/",

		"filename_offsets": {
			"fr_filename_off": 6,
			"fr_filename_vid_ID_off": 7,
			"fr_filename_vid_ID_len": 5,
			"fr_filename_shot_ID_off": 14,
			"fr_filename_shot_ID_len": 5,
			"fr_filename_frame_num_off": 42,
			"fr_filename_frame_num_len": 8
		},
	
        "collage_regions": 12,
        "collage_region_file_prefix": "data/v3c1-first100/collage/region_",

		"frames_list_file": "data/v3c1-first100/dataset.keyframes.dataset",
        "frames_dir": "data/v3c1-first100/thumbs/",
        "thumbs_dir": "data/v3c1-first100/thumbs/",
        "data_dir": "data/v3c1-first100/",

        "features_file_data_off": 0,
        "features_file": "data/v3c1-first100/dataset.w2vv",
        "features_dim": 128,

        "kw_bias_vec_file": "data/v3c1-first100/txt_bias-2048floats.bin",
        "kw_scores_mat_file": "data/v3c1-first100/txt_weight-11147x2048floats.bin",
        
        "kws_file": "data/v3c1-first100/word2idx.txt",
        "kw_PCA_mat_dim": 128,
        "pre_PCA_features_dim": 2048,
        "kw_PCA_mean_vec_file": "data/v3c1-first100/dataset.w2vv.pca.mean.bin",
        "kw_PCA_mat_file": "data/v3c1-first100/dataset.w2vv.pca.matrix.bin",
			
		"LSC_metadata_file": "",

        "test_data_root": "tests/data"
	}
  	
}
