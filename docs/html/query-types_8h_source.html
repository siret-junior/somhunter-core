<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SOMHunter Core: src/somhunter/query-types.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SOMHunter Core
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('query-types_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">query-types.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="query-types_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* This file is part of SOMHunter.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (C) 2021 Frantisek Mejzlik &lt;frankmejzlik@protonmail.com&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *                    Mirek Kratochvil &lt;exa.exa@gmail.com&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *                    Patrik Vesely &lt;prtrikvesely@gmail.com&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *                    Vit Skrhak &lt;v.skrhak@gmail.com&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * SOMHunter is free software: you can redistribute it and/or modify it under</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * the terms of the GNU General Public License as published by the Free</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * Software Foundation, either version 2 of the License, or (at your option)</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * any later version.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * SOMHunter is distributed in the hope that it will be useful, but WITHOUT ANY</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * details.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License along with</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * SOMHunter. If not, see &lt;https://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160; </div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#ifndef QUERY_TYPES_H_</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#define QUERY_TYPES_H_</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;array&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;sstream&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &lt;variant&gt;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160; </div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &lt;cereal/types/array.hpp&gt;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &lt;cereal/types/set.hpp&gt;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &lt;cereal/types/variant.hpp&gt;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;json11.hpp&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_8h.html">common.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160; </div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dataset-frames_8h.html">dataset-frames.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="utils_8hpp.html">utils.hpp</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160; </div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacesh.html">sh</a> {</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classsh_1_1_week_days_filter.html">   41</a></span>&#160;<span class="keyword">class </span><a class="code" href="classsh_1_1_week_days_filter.html">WeekDaysFilter</a> {</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="classsh_1_1_week_days_filter.html#a9d9c7a897eac7c134edaa0afa26cb64f">   42</a></span>&#160;    std::array&lt;bool, 7&gt; <a class="code" href="classsh_1_1_week_days_filter.html#a9d9c7a897eac7c134edaa0afa26cb64f">_days</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160; </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classsh_1_1_week_days_filter.html#a1dc27fdf454be1eb81807a2d4133237c">   46</a></span>&#160;    <a class="code" href="classsh_1_1_week_days_filter.html#a1dc27fdf454be1eb81807a2d4133237c">WeekDaysFilter</a>() { <a class="code" href="classsh_1_1_week_days_filter.html#a9d9c7a897eac7c134edaa0afa26cb64f">_days</a>.fill(<span class="keyword">true</span>); }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="classsh_1_1_week_days_filter.html#ac8489ad92ba00c22cd59e6ec1b83111b">   49</a></span>&#160;    <a class="code" href="classsh_1_1_week_days_filter.html#ac8489ad92ba00c22cd59e6ec1b83111b">WeekDaysFilter</a>(uint8_t mask) {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="comment">// Set the according days, ignore the last 2 bits</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i{ 0 }; i &lt; 7; ++i) {</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;            <a class="code" href="classsh_1_1_week_days_filter.html#a9d9c7a897eac7c134edaa0afa26cb64f">_days</a>[i] = <a class="code" href="namespacesh_1_1utils.html#af68c9baecb415e29dedfa68cd4d4f801">utils::is_set</a>(mask, i);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="classsh_1_1_week_days_filter.html#af64b26886d68fb2c32d36ec0ffecc4a9">   56</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span>&amp; <a class="code" href="classsh_1_1_week_days_filter.html#af64b26886d68fb2c32d36ec0ffecc4a9">operator[]</a>(<span class="keywordtype">size_t</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_week_days_filter.html#a9d9c7a897eac7c134edaa0afa26cb64f">_days</a>[i]; }</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="classsh_1_1_week_days_filter.html#a0773f05a39c1f09fd0c31e395ec1abb9">   58</a></span>&#160;    <span class="keywordtype">bool</span>&amp; <a class="code" href="classsh_1_1_week_days_filter.html#a0773f05a39c1f09fd0c31e395ec1abb9">operator[]</a>(<span class="keywordtype">size_t</span> i) { <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_week_days_filter.html#a9d9c7a897eac7c134edaa0afa26cb64f">_days</a>[i]; }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno"><a class="line" href="classsh_1_1_week_days_filter.html#a7c82c8df0ba65ef8c1cb3a2575a1b300">   60</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classsh_1_1_week_days_filter.html#a7c82c8df0ba65ef8c1cb3a2575a1b300">operator==</a>(<span class="keyword">const</span> <a class="code" href="classsh_1_1_week_days_filter.html">WeekDaysFilter</a>&amp; other)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="classsh_1_1_week_days_filter.html#a9d9c7a897eac7c134edaa0afa26cb64f">_days</a> == other.<a class="code" href="classsh_1_1_week_days_filter.html#a9d9c7a897eac7c134edaa0afa26cb64f">_days</a>); }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Archive&gt;</div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="classsh_1_1_week_days_filter.html#a68c0ad799846b2aeec40a4e11d96fc40">   63</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_week_days_filter.html#a68c0ad799846b2aeec40a4e11d96fc40">serialize</a>(Archive&amp; archive) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        archive(<a class="code" href="classsh_1_1_week_days_filter.html#a9d9c7a897eac7c134edaa0afa26cb64f">_days</a>);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;};</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="structsh_1_1_time_filter.html">   69</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsh_1_1_time_filter.html">TimeFilter</a> {</div>
<div class="line"><a name="l00070"></a><span class="lineno"><a class="line" href="structsh_1_1_time_filter.html#a3af82e65705037db3bfe83d8fe3c360a">   70</a></span>&#160;    <a class="code" href="namespacesh.html#a50ce6616d289484c04d54b1b58a48cb1">Hour</a> <a class="code" href="structsh_1_1_time_filter.html#a3af82e65705037db3bfe83d8fe3c360a">from</a>;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="structsh_1_1_time_filter.html#a1f3728e4fbc7c5e7305ad51de3cae7ec">   71</a></span>&#160;    <a class="code" href="namespacesh.html#a50ce6616d289484c04d54b1b58a48cb1">Hour</a> <a class="code" href="structsh_1_1_time_filter.html#a1f3728e4fbc7c5e7305ad51de3cae7ec">to</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160; </div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="structsh_1_1_time_filter.html#ad1ae1baeebe08e53140e989dcafb7af5">   74</a></span>&#160;    <a class="code" href="structsh_1_1_time_filter.html#ad1ae1baeebe08e53140e989dcafb7af5">TimeFilter</a>() : <a class="code" href="structsh_1_1_time_filter.html#a3af82e65705037db3bfe83d8fe3c360a">from</a>(0), <a class="code" href="structsh_1_1_time_filter.html#a1f3728e4fbc7c5e7305ad51de3cae7ec">to</a>(24){};</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structsh_1_1_time_filter.html#a8c78dadbef5564bdbd8d0a9ac27b2e0c">   75</a></span>&#160;    <a class="code" href="structsh_1_1_time_filter.html#a8c78dadbef5564bdbd8d0a9ac27b2e0c">TimeFilter</a>(<a class="code" href="namespacesh.html#a50ce6616d289484c04d54b1b58a48cb1">Hour</a> <a class="code" href="structsh_1_1_time_filter.html#a3af82e65705037db3bfe83d8fe3c360a">from</a>, <a class="code" href="namespacesh.html#a50ce6616d289484c04d54b1b58a48cb1">Hour</a> <a class="code" href="structsh_1_1_time_filter.html#a1f3728e4fbc7c5e7305ad51de3cae7ec">to</a>) : <a class="code" href="structsh_1_1_time_filter.html#a3af82e65705037db3bfe83d8fe3c360a">from</a>(<a class="code" href="structsh_1_1_time_filter.html#a3af82e65705037db3bfe83d8fe3c360a">from</a>), <a class="code" href="structsh_1_1_time_filter.html#a1f3728e4fbc7c5e7305ad51de3cae7ec">to</a>(<a class="code" href="structsh_1_1_time_filter.html#a1f3728e4fbc7c5e7305ad51de3cae7ec">to</a>){};</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160; </div>
<div class="line"><a name="l00077"></a><span class="lineno"><a class="line" href="structsh_1_1_time_filter.html#af3c6beef3d481fda571c355b638a9855">   77</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_time_filter.html#af3c6beef3d481fda571c355b638a9855">operator==</a>(<span class="keyword">const</span> <a class="code" href="structsh_1_1_time_filter.html">TimeFilter</a>&amp; other)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="structsh_1_1_time_filter.html#a3af82e65705037db3bfe83d8fe3c360a">from</a> == other.<a class="code" href="structsh_1_1_time_filter.html#a3af82e65705037db3bfe83d8fe3c360a">from</a> &amp;&amp; <a class="code" href="structsh_1_1_time_filter.html#a1f3728e4fbc7c5e7305ad51de3cae7ec">to</a> == other.<a class="code" href="structsh_1_1_time_filter.html#a1f3728e4fbc7c5e7305ad51de3cae7ec">to</a>); }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Archive&gt;</div>
<div class="line"><a name="l00080"></a><span class="lineno"><a class="line" href="structsh_1_1_time_filter.html#a95428dd989b26edc6a3cdf2a54c6e1e3">   80</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structsh_1_1_time_filter.html#a95428dd989b26edc6a3cdf2a54c6e1e3">serialize</a>(Archive&amp; archive) {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        archive(<a class="code" href="structsh_1_1_time_filter.html#a3af82e65705037db3bfe83d8fe3c360a">from</a>, <a class="code" href="structsh_1_1_time_filter.html#a1f3728e4fbc7c5e7305ad51de3cae7ec">to</a>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;};</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="line" href="structsh_1_1_year_filter.html">   86</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsh_1_1_year_filter.html">YearFilter</a> {</div>
<div class="line"><a name="l00087"></a><span class="lineno"><a class="line" href="structsh_1_1_year_filter.html#a4f2ce71cb64225223ebe7570058db071">   87</a></span>&#160;    <a class="code" href="namespacesh.html#a62363c9c7b2b9abb74f2e9d14f37d71b">Year</a> <a class="code" href="structsh_1_1_year_filter.html#a4f2ce71cb64225223ebe7570058db071">from</a>;</div>
<div class="line"><a name="l00088"></a><span class="lineno"><a class="line" href="structsh_1_1_year_filter.html#a9a5f07dec4bf31d6b99ef9e5bc451f10">   88</a></span>&#160;    <a class="code" href="namespacesh.html#a62363c9c7b2b9abb74f2e9d14f37d71b">Year</a> <a class="code" href="structsh_1_1_year_filter.html#a9a5f07dec4bf31d6b99ef9e5bc451f10">to</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="structsh_1_1_year_filter.html#a41ebf2b02e05c4404f263b28e0c53d3e">   91</a></span>&#160;    <a class="code" href="structsh_1_1_year_filter.html#a41ebf2b02e05c4404f263b28e0c53d3e">YearFilter</a>() : <a class="code" href="structsh_1_1_year_filter.html#a4f2ce71cb64225223ebe7570058db071">from</a>(2000), <a class="code" href="structsh_1_1_year_filter.html#a9a5f07dec4bf31d6b99ef9e5bc451f10">to</a>(2021){};</div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structsh_1_1_year_filter.html#ade8ef6771ba3283a090e5de5b11ad800">   92</a></span>&#160;    <a class="code" href="structsh_1_1_year_filter.html#ade8ef6771ba3283a090e5de5b11ad800">YearFilter</a>(<a class="code" href="namespacesh.html#a62363c9c7b2b9abb74f2e9d14f37d71b">Year</a> <a class="code" href="structsh_1_1_year_filter.html#a4f2ce71cb64225223ebe7570058db071">from</a>, <a class="code" href="namespacesh.html#a62363c9c7b2b9abb74f2e9d14f37d71b">Year</a> <a class="code" href="structsh_1_1_year_filter.html#a9a5f07dec4bf31d6b99ef9e5bc451f10">to</a>) : <a class="code" href="structsh_1_1_year_filter.html#a4f2ce71cb64225223ebe7570058db071">from</a>(<a class="code" href="structsh_1_1_year_filter.html#a4f2ce71cb64225223ebe7570058db071">from</a>), <a class="code" href="structsh_1_1_year_filter.html#a9a5f07dec4bf31d6b99ef9e5bc451f10">to</a>(<a class="code" href="structsh_1_1_year_filter.html#a9a5f07dec4bf31d6b99ef9e5bc451f10">to</a>){};</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="structsh_1_1_year_filter.html#a46f0107698f83d0162b4bf811427dc26">   94</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_year_filter.html#a46f0107698f83d0162b4bf811427dc26">operator==</a>(<span class="keyword">const</span> <a class="code" href="structsh_1_1_year_filter.html">YearFilter</a>&amp; other)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (<a class="code" href="structsh_1_1_year_filter.html#a4f2ce71cb64225223ebe7570058db071">from</a> == other.<a class="code" href="structsh_1_1_year_filter.html#a4f2ce71cb64225223ebe7570058db071">from</a> &amp;&amp; <a class="code" href="structsh_1_1_year_filter.html#a9a5f07dec4bf31d6b99ef9e5bc451f10">to</a> == other.<a class="code" href="structsh_1_1_year_filter.html#a9a5f07dec4bf31d6b99ef9e5bc451f10">to</a>); }</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Archive&gt;</div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="structsh_1_1_year_filter.html#a4a3bb321a1c543a6702cb96a361a3e23">   97</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structsh_1_1_year_filter.html#a4a3bb321a1c543a6702cb96a361a3e23">serialize</a>(Archive&amp; archive) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        archive(<a class="code" href="structsh_1_1_year_filter.html#a4f2ce71cb64225223ebe7570058db071">from</a>, <a class="code" href="structsh_1_1_year_filter.html#a9a5f07dec4bf31d6b99ef9e5bc451f10">to</a>);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;};</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="structsh_1_1_filters.html">  103</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsh_1_1_filters.html">Filters</a> {</div>
<div class="line"><a name="l00104"></a><span class="lineno"><a class="line" href="structsh_1_1_filters.html#ad4449409bcdccc5768d24944ec24a960">  104</a></span>&#160;    <a class="code" href="structsh_1_1_time_filter.html">TimeFilter</a> <a class="code" href="structsh_1_1_filters.html#ad4449409bcdccc5768d24944ec24a960">time</a>;</div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="structsh_1_1_filters.html#acad740f0c3809bef51659e7aede08818">  105</a></span>&#160;    <a class="code" href="structsh_1_1_year_filter.html">YearFilter</a> <a class="code" href="structsh_1_1_filters.html#acad740f0c3809bef51659e7aede08818">years</a>;</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="structsh_1_1_filters.html#a22d41530020befaadb8a810f86ef8f65">  106</a></span>&#160;    <a class="code" href="classsh_1_1_week_days_filter.html">WeekDaysFilter</a> <a class="code" href="structsh_1_1_filters.html#a22d41530020befaadb8a810f86ef8f65">days</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="structsh_1_1_filters.html#a684a8b1333a21ad35037367252c50dc7">  107</a></span>&#160;    std::vector&lt;bool&gt; <a class="code" href="structsh_1_1_filters.html#a684a8b1333a21ad35037367252c50dc7">dataset_parts</a>{ <span class="keyword">true</span>, <span class="keyword">true</span> };</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="structsh_1_1_filters.html#ae9c361ed6b9c1e31b09b2d72f972fce8">  109</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_filters.html#ae9c361ed6b9c1e31b09b2d72f972fce8">operator==</a>(<span class="keyword">const</span> <a class="code" href="structsh_1_1_filters.html">Filters</a>&amp; other)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="structsh_1_1_filters.html#ad4449409bcdccc5768d24944ec24a960">time</a> == other.<a class="code" href="structsh_1_1_filters.html#ad4449409bcdccc5768d24944ec24a960">time</a> &amp;&amp; <a class="code" href="structsh_1_1_filters.html#a22d41530020befaadb8a810f86ef8f65">days</a> == other.<a class="code" href="structsh_1_1_filters.html#a22d41530020befaadb8a810f86ef8f65">days</a> &amp;&amp; <a class="code" href="structsh_1_1_filters.html#a684a8b1333a21ad35037367252c50dc7">dataset_parts</a> == other.<a class="code" href="structsh_1_1_filters.html#a684a8b1333a21ad35037367252c50dc7">dataset_parts</a> &amp;&amp;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <a class="code" href="structsh_1_1_filters.html#acad740f0c3809bef51659e7aede08818">years</a> == other.<a class="code" href="structsh_1_1_filters.html#acad740f0c3809bef51659e7aede08818">years</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    }</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="structsh_1_1_filters.html#a4aa27ec51ee7f8f3d676c0031c68d7a5">  114</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_filters.html#a4aa27ec51ee7f8f3d676c0031c68d7a5">operator!=</a>(<span class="keyword">const</span> <a class="code" href="structsh_1_1_filters.html">Filters</a>&amp; other)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !((*this) == other); }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno"><a class="line" href="structsh_1_1_filters.html#a5a6ca0583723170057c659209d9e08ec">  116</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_filters.html#a5a6ca0583723170057c659209d9e08ec">is_default</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structsh_1_1_filters.html#acad740f0c3809bef51659e7aede08818">years</a> == <a class="code" href="structsh_1_1_year_filter.html">YearFilter</a>{} &amp;&amp; <a class="code" href="structsh_1_1_filters.html#ad4449409bcdccc5768d24944ec24a960">time</a> == <a class="code" href="structsh_1_1_time_filter.html">TimeFilter</a>{} &amp;&amp; <a class="code" href="structsh_1_1_filters.html#a22d41530020befaadb8a810f86ef8f65">days</a> == <a class="code" href="classsh_1_1_week_days_filter.html">WeekDaysFilter</a>{} &amp;&amp;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;               <a class="code" href="structsh_1_1_filters.html#a684a8b1333a21ad35037367252c50dc7">dataset_parts</a> == std::vector&lt;bool&gt;{ <span class="keyword">true</span>, <span class="keyword">true</span> };</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno"><a class="line" href="structsh_1_1_filters.html#a02dca236fbc88214c4869b86222a8945">  122</a></span>&#160;    std::pair&lt;FrameId, FrameId&gt; <a class="code" href="structsh_1_1_filters.html#a02dca236fbc88214c4869b86222a8945">get_dataset_parts_valid_interval</a>(std::size_t num_total_frames)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        std::size_t num_parts{ <a class="code" href="structsh_1_1_filters.html#a684a8b1333a21ad35037367252c50dc7">dataset_parts</a>.size() };</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        <a class="code" href="static-logger_8hpp.html#a1cc8c9c0fad03dc2462abdacd06fb4b5">do_assert</a>(num_parts == 2, <span class="stringliteral">&quot;Must be 2 intervals.&quot;</span>);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <a class="code" href="static-logger_8hpp.html#a1cc8c9c0fad03dc2462abdacd06fb4b5">do_assert</a>(num_total_frames &gt;= 2, <span class="stringliteral">&quot;At least 2 frames to it.&quot;</span>);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keyword">auto</span> base_size{ num_total_frames / num_parts };</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="keyword">auto</span> rem{ num_total_frames % num_parts };</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">return</span> std::pair{ (<a class="code" href="structsh_1_1_filters.html#a684a8b1333a21ad35037367252c50dc7">dataset_parts</a>[0] ? 0 : base_size + rem),</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                          (<a class="code" href="structsh_1_1_filters.html#a684a8b1333a21ad35037367252c50dc7">dataset_parts</a>[1] ? num_total_frames : base_size + rem) };</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160; </div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Archive&gt;</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="structsh_1_1_filters.html#a0c09d130dac31de44b942295782e8cdb">  135</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structsh_1_1_filters.html#a0c09d130dac31de44b942295782e8cdb">serialize</a>(Archive&amp; archive) {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        archive(<a class="code" href="structsh_1_1_filters.html#ad4449409bcdccc5768d24944ec24a960">time</a>, <a class="code" href="structsh_1_1_filters.html#a22d41530020befaadb8a810f86ef8f65">days</a>, <a class="code" href="structsh_1_1_filters.html#acad740f0c3809bef51659e7aede08818">years</a>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;};</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160; </div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="structsh_1_1_rescore_metadata.html">  140</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsh_1_1_rescore_metadata.html">RescoreMetadata</a> {</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="structsh_1_1_rescore_metadata.html#a1d7e3e2c7741b6005c085653ff9f6427">  141</a></span>&#160;    std::string <a class="code" href="structsh_1_1_rescore_metadata.html#a1d7e3e2c7741b6005c085653ff9f6427">_username</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="structsh_1_1_rescore_metadata.html#ae3e6202c9fda681ed7d0421c12d9fd39">  142</a></span>&#160;    std::string <a class="code" href="structsh_1_1_rescore_metadata.html#ae3e6202c9fda681ed7d0421c12d9fd39">screenshot_filepath</a>;</div>
<div class="line"><a name="l00143"></a><span class="lineno"><a class="line" href="structsh_1_1_rescore_metadata.html#a77cb91d17d474f6b1ab6c57dc1d27dbb">  143</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="structsh_1_1_rescore_metadata.html#a77cb91d17d474f6b1ab6c57dc1d27dbb">srd_search_ctx_ID</a>{ 0 };</div>
<div class="line"><a name="l00144"></a><span class="lineno"><a class="line" href="structsh_1_1_rescore_metadata.html#a8ccfa410acc50617bb980bfbca5ff524">  144</a></span>&#160;    std::string <a class="code" href="structsh_1_1_rescore_metadata.html#a8ccfa410acc50617bb980bfbca5ff524">time_label</a>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Archive&gt;</div>
<div class="line"><a name="l00147"></a><span class="lineno"><a class="line" href="structsh_1_1_rescore_metadata.html#aeb7d8e7c280e78150011eb0852d43ed8">  147</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structsh_1_1_rescore_metadata.html#aeb7d8e7c280e78150011eb0852d43ed8">serialize</a>(Archive&amp; archive) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="comment">// Some of these dont matter in the future</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        archive(<a class="code" href="structsh_1_1_rescore_metadata.html#a1d7e3e2c7741b6005c085653ff9f6427">_username</a>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;};</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160; </div>
<div class="line"><a name="l00153"></a><span class="lineno"><a class="line" href="namespacesh.html#aac4825713594a520bf3457b6db688ccc">  153</a></span>&#160;<span class="keyword">using</span> <a class="code" href="namespacesh.html#aac4825713594a520bf3457b6db688ccc">RelevanceFeedbackQuery</a> = <a class="code" href="namespacesh.html#a7f93ac83441381bd7dfa2e01ba67ba52">LikesCont</a>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno"><a class="line" href="namespacesh.html#aa45f67c730dfeb41be23f84ab2e7d610">  155</a></span>&#160;<span class="keyword">using</span> <a class="code" href="namespacesh.html#aa45f67c730dfeb41be23f84ab2e7d610">TextualQuery</a> = std::string;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="line" href="namespacesh.html#a55ccd7c7b6858c4d674bb5f054f55345">  157</a></span>&#160;<span class="keyword">using</span> <a class="code" href="namespacesh.html#a55ccd7c7b6858c4d674bb5f054f55345">RelocationQuery</a> = <a class="code" href="namespacesh.html#afc709d69056aeb5c2549b4437b56aaf1">FrameId</a>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="structsh_1_1_relative_rect.html">  159</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsh_1_1_relative_rect.html">RelativeRect</a> {</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="structsh_1_1_relative_rect.html#ae936bbabafc47a3531ec34e1d3029326">  161</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="structsh_1_1_relative_rect.html#a03abb9a7cf63e5a5f6e7f247d365cba3">left</a>, <a class="code" href="structsh_1_1_relative_rect.html#ae0b64d6c7e93020866df163b5162329a">top</a>, <a class="code" href="structsh_1_1_relative_rect.html#ae9810ca79f990b749041768763d139d0">right</a>, <a class="code" href="structsh_1_1_relative_rect.html#ae936bbabafc47a3531ec34e1d3029326">bottom</a>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00164"></a><span class="lineno"><a class="line" href="structsh_1_1_relative_rect.html#ada68af191ff2fb617ec766f1cd24f98f">  164</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structsh_1_1_relative_rect.html#ada68af191ff2fb617ec766f1cd24f98f">to_full</a>() {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <a class="code" href="structsh_1_1_relative_rect.html#a03abb9a7cf63e5a5f6e7f247d365cba3">left</a> = 0;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <a class="code" href="structsh_1_1_relative_rect.html#ae0b64d6c7e93020866df163b5162329a">top</a> = 0;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <a class="code" href="structsh_1_1_relative_rect.html#ae9810ca79f990b749041768763d139d0">right</a> = 0;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="code" href="structsh_1_1_relative_rect.html#a03abb9a7cf63e5a5f6e7f247d365cba3">left</a> = 0;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160; </div>
<div class="line"><a name="l00171"></a><span class="lineno"><a class="line" href="structsh_1_1_relative_rect.html#a643e0e458abffe989406c3f083182ed6">  171</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="structsh_1_1_relative_rect.html#a643e0e458abffe989406c3f083182ed6">width_norm</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="static-logger_8hpp.html#a0d63814b32f961416f056a84ffb05b34">do_assert_debug</a>(<a class="code" href="structsh_1_1_relative_rect.html#ae9810ca79f990b749041768763d139d0">right</a> &gt;= <a class="code" href="structsh_1_1_relative_rect.html#ae9810ca79f990b749041768763d139d0">right</a>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structsh_1_1_relative_rect.html#ae9810ca79f990b749041768763d139d0">right</a> - <a class="code" href="structsh_1_1_relative_rect.html#a03abb9a7cf63e5a5f6e7f247d365cba3">left</a>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    };</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno"><a class="line" href="structsh_1_1_relative_rect.html#aa826125ce33f26e07e938d3e01072030">  176</a></span>&#160;    <span class="keywordtype">float</span> <a class="code" href="structsh_1_1_relative_rect.html#aa826125ce33f26e07e938d3e01072030">height_norm</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <a class="code" href="static-logger_8hpp.html#a0d63814b32f961416f056a84ffb05b34">do_assert_debug</a>(<a class="code" href="structsh_1_1_relative_rect.html#ae936bbabafc47a3531ec34e1d3029326">bottom</a> &gt;= <a class="code" href="structsh_1_1_relative_rect.html#ae0b64d6c7e93020866df163b5162329a">top</a>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structsh_1_1_relative_rect.html#ae936bbabafc47a3531ec34e1d3029326">bottom</a> - <a class="code" href="structsh_1_1_relative_rect.html#ae0b64d6c7e93020866df163b5162329a">top</a>;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    };</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Archive&gt;</div>
<div class="line"><a name="l00182"></a><span class="lineno"><a class="line" href="structsh_1_1_relative_rect.html#abd4d481570bc6a7536ae4b60ebb8b7e1">  182</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structsh_1_1_relative_rect.html#abd4d481570bc6a7536ae4b60ebb8b7e1">serialize</a>(Archive&amp; archive) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        archive(<a class="code" href="structsh_1_1_relative_rect.html#a03abb9a7cf63e5a5f6e7f247d365cba3">left</a>, <a class="code" href="structsh_1_1_relative_rect.html#ae0b64d6c7e93020866df163b5162329a">top</a>, <a class="code" href="structsh_1_1_relative_rect.html#ae9810ca79f990b749041768763d139d0">right</a>, <a class="code" href="structsh_1_1_relative_rect.html#ae936bbabafc47a3531ec34e1d3029326">bottom</a>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno"><a class="line" href="structsh_1_1_relative_rect.html#a2f4e95890efb2d540a16be0c210af3d5">  186</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_relative_rect.html#a2f4e95890efb2d540a16be0c210af3d5">operator==</a>(<span class="keyword">const</span> <a class="code" href="structsh_1_1_relative_rect.html">RelativeRect</a>&amp; b)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structsh_1_1_relative_rect.html#a03abb9a7cf63e5a5f6e7f247d365cba3">left</a> == b.<a class="code" href="structsh_1_1_relative_rect.html#a03abb9a7cf63e5a5f6e7f247d365cba3">left</a> &amp;&amp; <a class="code" href="structsh_1_1_relative_rect.html#ae0b64d6c7e93020866df163b5162329a">top</a> == b.<a class="code" href="structsh_1_1_relative_rect.html#ae0b64d6c7e93020866df163b5162329a">top</a> &amp;&amp; <a class="code" href="structsh_1_1_relative_rect.html#ae9810ca79f990b749041768763d139d0">right</a> == b.<a class="code" href="structsh_1_1_relative_rect.html#ae9810ca79f990b749041768763d139d0">right</a> &amp;&amp; <a class="code" href="structsh_1_1_relative_rect.html#ae936bbabafc47a3531ec34e1d3029326">bottom</a> == b.<a class="code" href="structsh_1_1_relative_rect.html#ae936bbabafc47a3531ec34e1d3029326">bottom</a>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;};</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160; </div>
<div class="line"><a name="l00191"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_base.html">  191</a></span>&#160;<span class="keyword">class </span><a class="code" href="classsh_1_1_canvas_subquery_base.html">CanvasSubqueryBase</a> {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">  193</a></span>&#160;    <a class="code" href="structsh_1_1_relative_rect.html">RelativeRect</a> <a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00196"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_base.html#a08b8aaa0f2cf88592b13efbfdf0fbf4d">  196</a></span>&#160;    <a class="code" href="classsh_1_1_canvas_subquery_base.html#a08b8aaa0f2cf88592b13efbfdf0fbf4d">CanvasSubqueryBase</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_base.html#a165d4fdab8281ee46fd1d9fa3934d15e">  197</a></span>&#160;    <a class="code" href="classsh_1_1_canvas_subquery_base.html#a165d4fdab8281ee46fd1d9fa3934d15e">CanvasSubqueryBase</a>(<span class="keyword">const</span> <a class="code" href="structsh_1_1_relative_rect.html">RelativeRect</a>&amp; <a class="code" href="classsh_1_1_canvas_subquery_base.html#a179ec7d202b6109b92fcba90c7c0ee5d">rect</a>) : <a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>{ <a class="code" href="classsh_1_1_canvas_subquery_base.html#a179ec7d202b6109b92fcba90c7c0ee5d">rect</a> } {};</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="comment">// ---</span></div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_base.html#afaeb4fb87daed5798b62abc3632ee813">  200</a></span>&#160;<span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_canvas_subquery_base.html#afaeb4fb87daed5798b62abc3632ee813">unposition</a>() { <a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#ada68af191ff2fb617ec766f1cd24f98f">to_full</a>(); }</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="comment">// ---</span></div>
<div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_base.html#a179ec7d202b6109b92fcba90c7c0ee5d">  202</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structsh_1_1_relative_rect.html">RelativeRect</a>&amp; <a class="code" href="classsh_1_1_canvas_subquery_base.html#a179ec7d202b6109b92fcba90c7c0ee5d">rect</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>; };</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;};</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html">  205</a></span>&#160;<span class="keyword">class </span><a class="code" href="classsh_1_1_canvas_subquery_bitmap.html">CanvasSubqueryBitmap</a> : <span class="keyword">public</span> <a class="code" href="classsh_1_1_canvas_subquery_base.html">CanvasSubqueryBase</a> {</div>
<div class="line"><a name="l00206"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#ac50112fa838a330b69dd643e94f4420c">  206</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#ac50112fa838a330b69dd643e94f4420c">_num_channels</a>;</div>
<div class="line"><a name="l00207"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#a08868f5b17d97af588455e54b6f9461f">  207</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a08868f5b17d97af588455e54b6f9461f">_width</a>;</div>
<div class="line"><a name="l00208"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#aa5dcfd3c7992c9b57e56415a51a925d0">  208</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#aa5dcfd3c7992c9b57e56415a51a925d0">_height</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#a9b70a5757e4ea568069b82d32b45d59f">  209</a></span>&#160;    std::vector&lt;uint8_t&gt; <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a9b70a5757e4ea568069b82d32b45d59f">_data_int</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160; </div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">// Unique prefix right here!</span></div>
<div class="line"><a name="l00212"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#a6f8b07fb902b9037205a48d9b6770907">  212</a></span>&#160;    std::string <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a6f8b07fb902b9037205a48d9b6770907">jpeg_filename</a>{ <span class="stringliteral">&quot;canvas-query-bitmap_&quot;</span> + std::to_string(<a class="code" href="namespacesh_1_1utils.html#ad1920d2a3e627c0e19868fa6fce7697c">utils::irand</a>(0, 1000)) + <span class="stringliteral">&quot;_&quot;</span> +</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                               std::to_string(<a class="code" href="namespacesh_1_1utils.html#ad1920d2a3e627c0e19868fa6fce7697c">utils::irand</a>(0, 1000)) + <span class="stringliteral">&quot;_&quot;</span> + std::to_string(<a class="code" href="namespacesh_1_1utils.html#ae3d8c8e164023f2fd8388378460029aa">utils::timestamp</a>()) +</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                               <span class="stringliteral">&quot;.jpg&quot;</span> };</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#a22c2edf2c592c966d4d7b111d2920b05">  217</a></span>&#160;    <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a22c2edf2c592c966d4d7b111d2920b05">CanvasSubqueryBitmap</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00218"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#a54b0f8eef8a65681aba939b792e5f064">  218</a></span>&#160;    <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a54b0f8eef8a65681aba939b792e5f064">CanvasSubqueryBitmap</a>(<span class="keyword">const</span> <a class="code" href="structsh_1_1_relative_rect.html">RelativeRect</a>&amp; <a class="code" href="classsh_1_1_canvas_subquery_base.html#a179ec7d202b6109b92fcba90c7c0ee5d">rect</a>, <span class="keywordtype">size_t</span> bitmap_w, <span class="keywordtype">size_t</span> bitmap_h, <span class="keywordtype">size_t</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#ab8bb0e808578f030e927ec64e4b2b361">num_channels</a>,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                         std::vector&lt;std::uint8_t&gt;&amp;&amp; _data)</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        : <a class="code" href="classsh_1_1_canvas_subquery_base.html">CanvasSubqueryBase</a>{ <a class="code" href="classsh_1_1_canvas_subquery_base.html#a179ec7d202b6109b92fcba90c7c0ee5d">rect</a> },</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;          <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#ac50112fa838a330b69dd643e94f4420c">_num_channels</a>{ <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#ab8bb0e808578f030e927ec64e4b2b361">num_channels</a> },</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;          <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a08868f5b17d97af588455e54b6f9461f">_width</a>{ bitmap_w },</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;          <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#aa5dcfd3c7992c9b57e56415a51a925d0">_height</a>{ bitmap_h },</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;          <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a9b70a5757e4ea568069b82d32b45d59f">_data_int</a>{ std::move(_data) } {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;          };</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160; </div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#ab8bb0e808578f030e927ec64e4b2b361">  228</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#ab8bb0e808578f030e927ec64e4b2b361">num_channels</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#ac50112fa838a330b69dd643e94f4420c">_num_channels</a>; };</div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#a92e9cec8a13a7266d236e1e84310c394">  229</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a92e9cec8a13a7266d236e1e84310c394">width_pixels</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a08868f5b17d97af588455e54b6f9461f">_width</a>; };</div>
<div class="line"><a name="l00230"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#a8425e83aab22ac5f1409fe08e4d62535">  230</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a8425e83aab22ac5f1409fe08e4d62535">height_pixels</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#aa5dcfd3c7992c9b57e56415a51a925d0">_height</a>; };</div>
<div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#a7f63f1906fc6d594409cdb9c5fafef3c">  231</a></span>&#160;    std::vector&lt;uint8_t&gt;&amp; <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a7f63f1906fc6d594409cdb9c5fafef3c">data</a>() { <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a9b70a5757e4ea568069b82d32b45d59f">_data_int</a>; };</div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#a21e124bdd0e18255b0af25e67ac7cbdc">  232</a></span>&#160;    <span class="keyword">const</span> std::vector&lt;uint8_t&gt;&amp; <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a21e124bdd0e18255b0af25e67ac7cbdc">data</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a9b70a5757e4ea568069b82d32b45d59f">_data_int</a>; };</div>
<div class="line"><a name="l00233"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#a86aa63e37eb95cfbf961326a9d12fea4">  233</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a86aa63e37eb95cfbf961326a9d12fea4">empty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a9b70a5757e4ea568069b82d32b45d59f">_data_int</a>.empty(); }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    std::vector&lt;uint8_t&gt; <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#aadc899e93c7685617d578c54d0b5e34a">get_scaled_bitmap</a>(<span class="keywordtype">size_t</span> w, <span class="keywordtype">size_t</span> h) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00237"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#acf4e08d72bb597f035956f04c7238601">  237</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#acf4e08d72bb597f035956f04c7238601">operator!=</a>(<span class="keyword">const</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html">CanvasSubqueryBitmap</a>&amp; b)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !((*this) == b); }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#ac17f4e5e79c6078bab865d9c52d8624f">  239</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#ac17f4e5e79c6078bab865d9c52d8624f">operator==</a>(<span class="keyword">const</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html">CanvasSubqueryBitmap</a>&amp; b)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#ac50112fa838a330b69dd643e94f4420c">_num_channels</a> == b.<a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#ac50112fa838a330b69dd643e94f4420c">_num_channels</a> &amp;&amp; <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a08868f5b17d97af588455e54b6f9461f">_width</a> == b.<a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a08868f5b17d97af588455e54b6f9461f">_width</a> &amp;&amp; <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#aa5dcfd3c7992c9b57e56415a51a925d0">_height</a> == b.<a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#aa5dcfd3c7992c9b57e56415a51a925d0">_height</a> &amp;&amp;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;               <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a9b70a5757e4ea568069b82d32b45d59f">_data_int</a> == b.<a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a9b70a5757e4ea568069b82d32b45d59f">_data_int</a> &amp;&amp; <a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a> == b.<a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160; </div>
<div class="line"><a name="l00244"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#a6eb6834345adc9da4542b34abab4da7c">  244</a></span>&#160;    nlohmann::json <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a6eb6834345adc9da4542b34abab4da7c">to_JSON</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        nlohmann::json res = { { <span class="stringliteral">&quot;rect&quot;</span>, nlohmann::json::array({ <a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#a03abb9a7cf63e5a5f6e7f247d365cba3">left</a>, <a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#ae0b64d6c7e93020866df163b5162329a">top</a>, <a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#ae9810ca79f990b749041768763d139d0">right</a>, <a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#ae936bbabafc47a3531ec34e1d3029326">bottom</a> }) },</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                               { <span class="stringliteral">&quot;bitmap_filename&quot;</span>, <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a6f8b07fb902b9037205a48d9b6770907">jpeg_filename</a> },</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                               { <span class="stringliteral">&quot;width_pixels&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a08868f5b17d97af588455e54b6f9461f">_width</a>) },</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                               { <span class="stringliteral">&quot;height_pixels&quot;</span>, <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#aa5dcfd3c7992c9b57e56415a51a925d0">_height</a>) } };</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160; </div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Archive&gt;</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#aed3ec29bbe52523fac78fc9d0d394841">  254</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#aed3ec29bbe52523fac78fc9d0d394841">serialize</a>(Archive&amp; archive) {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        archive(<a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>, <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#ac50112fa838a330b69dd643e94f4420c">_num_channels</a>, <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a08868f5b17d97af588455e54b6f9461f">_width</a>, <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#aa5dcfd3c7992c9b57e56415a51a925d0">_height</a>, <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a9b70a5757e4ea568069b82d32b45d59f">_data_int</a>);</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a673f0845bae2abcb37b848356548501b">operator&lt;&lt;</a>(std::ofstream&amp; os, <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html">CanvasSubqueryBitmap</a> x);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;};</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_bitmap.html#a673f0845bae2abcb37b848356548501b">  261</a></span>&#160;<span class="keyword">inline</span> std::ostream&amp; <a class="code" href="namespacesh.html#a2fb95a2caac24324ee12253695d8a522">operator&lt;&lt;</a>(std::ofstream&amp; os, <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html">CanvasSubqueryBitmap</a> x) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;---------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;CanvasSubqueryBitmap: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;---&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160; </div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;._rect = (&quot;</span> &lt;&lt; x.<a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#a03abb9a7cf63e5a5f6e7f247d365cba3">left</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; x.<a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#ae0b64d6c7e93020866df163b5162329a">top</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; x.<a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#ae9810ca79f990b749041768763d139d0">right</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; x.<a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#ae936bbabafc47a3531ec34e1d3029326">bottom</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;       &lt;&lt; std::endl;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;._height = (&quot;</span> &lt;&lt; x.<a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#aa5dcfd3c7992c9b57e56415a51a925d0">_height</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;._width = (&quot;</span> &lt;&lt; x.<a class="code" href="classsh_1_1_canvas_subquery_bitmap.html#a08868f5b17d97af588455e54b6f9461f">_width</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">return</span> os;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;}</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_text.html">  277</a></span>&#160;<span class="keyword">class </span><a class="code" href="classsh_1_1_canvas_subquery_text.html">CanvasSubqueryText</a> : <span class="keyword">public</span> <a class="code" href="classsh_1_1_canvas_subquery_base.html">CanvasSubqueryBase</a> {</div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_text.html#ad3b450b43dc9d8bedd080072d15b59bd">  278</a></span>&#160;    <a class="code" href="namespacesh.html#aa45f67c730dfeb41be23f84ab2e7d610">TextualQuery</a> <a class="code" href="classsh_1_1_canvas_subquery_text.html#ad3b450b43dc9d8bedd080072d15b59bd">_text_query</a>;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160; </div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00281"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_text.html#af9844a35aefbff620840dac053a1e7b4">  281</a></span>&#160;    <a class="code" href="classsh_1_1_canvas_subquery_text.html#af9844a35aefbff620840dac053a1e7b4">CanvasSubqueryText</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00282"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_text.html#aa1bfcebba4df8791d92fd5f7ab8f229b">  282</a></span>&#160;    <a class="code" href="classsh_1_1_canvas_subquery_text.html#aa1bfcebba4df8791d92fd5f7ab8f229b">CanvasSubqueryText</a>(<span class="keyword">const</span> <a class="code" href="structsh_1_1_relative_rect.html">RelativeRect</a>&amp; <a class="code" href="classsh_1_1_canvas_subquery_base.html#a179ec7d202b6109b92fcba90c7c0ee5d">rect</a>, <span class="keyword">const</span> <a class="code" href="namespacesh.html#aa45f67c730dfeb41be23f84ab2e7d610">TextualQuery</a>&amp; <a class="code" href="classsh_1_1_canvas_subquery_text.html#a0eecd133950de8cab77882741e82e4f9">query</a>)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        : <a class="code" href="classsh_1_1_canvas_subquery_base.html">CanvasSubqueryBase</a>{ <a class="code" href="classsh_1_1_canvas_subquery_base.html#a179ec7d202b6109b92fcba90c7c0ee5d">rect</a> }, <a class="code" href="classsh_1_1_canvas_subquery_text.html#ad3b450b43dc9d8bedd080072d15b59bd">_text_query</a>{ utils::<a class="code" href="namespacesh_1_1utils.html#a2745d75a8be0fd8ea1e0bb9c25bfc1f6">trim</a>(<a class="code" href="classsh_1_1_canvas_subquery_text.html#a0eecd133950de8cab77882741e82e4f9">query</a>) } {}</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">// ---</span></div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_text.html#a0eecd133950de8cab77882741e82e4f9">  285</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacesh.html#aa45f67c730dfeb41be23f84ab2e7d610">TextualQuery</a>&amp; <a class="code" href="classsh_1_1_canvas_subquery_text.html#a0eecd133950de8cab77882741e82e4f9">query</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_subquery_text.html#ad3b450b43dc9d8bedd080072d15b59bd">_text_query</a>; };</div>
<div class="line"><a name="l00286"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_text.html#ab41f339a228b83c1c49a6cff25699397">  286</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classsh_1_1_canvas_subquery_text.html#ab41f339a228b83c1c49a6cff25699397">empty</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_subquery_text.html#ad3b450b43dc9d8bedd080072d15b59bd">_text_query</a>.empty(); }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160; </div>
<div class="line"><a name="l00288"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_text.html#afe2c3552ea2d8e34b311e1d640a71cf2">  288</a></span>&#160;    nlohmann::json <a class="code" href="classsh_1_1_canvas_subquery_text.html#afe2c3552ea2d8e34b311e1d640a71cf2">to_JSON</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        nlohmann::json res = { { <span class="stringliteral">&quot;rect&quot;</span>, nlohmann::json::array({ <a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#a03abb9a7cf63e5a5f6e7f247d365cba3">left</a>, <a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#ae0b64d6c7e93020866df163b5162329a">top</a>, <a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#ae9810ca79f990b749041768763d139d0">right</a>, <a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#ae936bbabafc47a3531ec34e1d3029326">bottom</a> }) },</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                               { <span class="stringliteral">&quot;text_query&quot;</span>, <a class="code" href="classsh_1_1_canvas_subquery_text.html#ad3b450b43dc9d8bedd080072d15b59bd">_text_query</a> } };</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160; </div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Archive&gt;</div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_text.html#a43b808951d78d6e2c4071ae2457044af">  295</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_canvas_subquery_text.html#a43b808951d78d6e2c4071ae2457044af">serialize</a>(Archive&amp; archive) {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        archive(<a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>, <a class="code" href="classsh_1_1_canvas_subquery_text.html#ad3b450b43dc9d8bedd080072d15b59bd">_text_query</a>);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    }</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div>
<div class="line"><a name="l00299"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_text.html#a05bdc2a9095e9383a8e84146271726bf">  299</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classsh_1_1_canvas_subquery_text.html#a05bdc2a9095e9383a8e84146271726bf">operator!=</a>(<span class="keyword">const</span> <a class="code" href="classsh_1_1_canvas_subquery_text.html">CanvasSubqueryText</a>&amp; b)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !((*this) == b); }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_text.html#aae048ad52b0105216ab10e64066de571">  301</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classsh_1_1_canvas_subquery_text.html#aae048ad52b0105216ab10e64066de571">operator==</a>(<span class="keyword">const</span> <a class="code" href="classsh_1_1_canvas_subquery_text.html">CanvasSubqueryText</a>&amp; b)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_subquery_text.html#ad3b450b43dc9d8bedd080072d15b59bd">_text_query</a> == b.<a class="code" href="classsh_1_1_canvas_subquery_text.html#ad3b450b43dc9d8bedd080072d15b59bd">_text_query</a> &amp;&amp; <a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a> == b.<a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>; }</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160; </div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="classsh_1_1_canvas_subquery_text.html#a2ff2a5c1f82c26f346042165a8cfcc50">operator&lt;&lt;</a>(std::ofstream&amp; os, <a class="code" href="classsh_1_1_canvas_subquery_text.html">CanvasSubqueryText</a> x);</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;};</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160; </div>
<div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_subquery_text.html#a2ff2a5c1f82c26f346042165a8cfcc50">  306</a></span>&#160;<span class="keyword">inline</span> std::ostream&amp; <a class="code" href="namespacesh.html#a2fb95a2caac24324ee12253695d8a522">operator&lt;&lt;</a>(std::ofstream&amp; os, <a class="code" href="classsh_1_1_canvas_subquery_text.html">CanvasSubqueryText</a> x) {</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;---------------------------------&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;CanvasSubqueryText: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;---&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;._rect = (&quot;</span> &lt;&lt; x.<a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#a03abb9a7cf63e5a5f6e7f247d365cba3">left</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; x.<a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#ae0b64d6c7e93020866df163b5162329a">top</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; x.<a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#ae9810ca79f990b749041768763d139d0">right</a> &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; x.<a class="code" href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">_rect</a>.<a class="code" href="structsh_1_1_relative_rect.html#ae936bbabafc47a3531ec34e1d3029326">bottom</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;       &lt;&lt; std::endl;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    os &lt;&lt; <span class="stringliteral">&quot;\t&quot;</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;._text_query = (&quot;</span> &lt;&lt; x.<a class="code" href="classsh_1_1_canvas_subquery_text.html#ad3b450b43dc9d8bedd080072d15b59bd">_text_query</a> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    <span class="keywordflow">return</span> os;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;}</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160; </div>
<div class="line"><a name="l00320"></a><span class="lineno"><a class="line" href="namespacesh.html#aec64f5ed667b9123fa0f65cea82b0d95">  320</a></span>&#160;<span class="keyword">using</span> <a class="code" href="namespacesh.html#aec64f5ed667b9123fa0f65cea82b0d95">CanvasSubquery</a> = std::variant&lt;CanvasSubqueryBitmap, CanvasSubqueryText&gt;;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160; </div>
<div class="line"><a name="l00325"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_query.html">  325</a></span>&#160;<span class="keyword">class </span><a class="code" href="classsh_1_1_canvas_query.html">CanvasQuery</a> {</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">// *** METHODS ***</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_canvas_query.html#a39852125049ed5e67300017791d442fd">emplace_back</a>(<span class="keyword">const</span> <a class="code" href="structsh_1_1_relative_rect.html">RelativeRect</a>&amp; rect, <span class="keyword">const</span> std::string&amp; text_query);</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160; </div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_canvas_query.html#a39852125049ed5e67300017791d442fd">emplace_back</a>(<span class="keyword">const</span> <a class="code" href="structsh_1_1_relative_rect.html">RelativeRect</a>&amp; rect, <span class="keywordtype">size_t</span> bitmap_w, <span class="keywordtype">size_t</span> bitmap_h, <span class="keywordtype">size_t</span> num_channels,</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                      uint8_t* bitmap_RGBA_data);</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_query.html#aaa83285955b4adb547865a440a8ab423">  336</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classsh_1_1_canvas_query.html#aaa83285955b4adb547865a440a8ab423">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_query.html#a3c28679f69a53065a56dedf186f00aa8">_subqueries</a>.size(); }</div>
<div class="line"><a name="l00337"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_query.html#a8ea7e1d90470a1983a38010f885d309a">  337</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classsh_1_1_canvas_query.html#a8ea7e1d90470a1983a38010f885d309a">empty</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classsh_1_1_canvas_query.html#aaa83285955b4adb547865a440a8ab423">size</a>() == 0)</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; q : <a class="code" href="classsh_1_1_canvas_query.html#a3c28679f69a53065a56dedf186f00aa8">_subqueries</a>) {</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;                <span class="keyword">auto</span> r = std::visit(<a class="code" href="structoverloaded.html">overloaded</a>{ [](<span class="keyword">auto</span> q) { <span class="keywordflow">return</span> q.empty(); } }, q);</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                <span class="keywordflow">if</span> (r) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;            }</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        }</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    }</div>
<div class="line"><a name="l00348"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_query.html#a48b1cab0a472c077f93e76443af13a0b">  348</a></span>&#160;    <span class="keyword">const</span> std::vector&lt;CanvasSubquery&gt;&amp; <a class="code" href="classsh_1_1_canvas_query.html#a48b1cab0a472c077f93e76443af13a0b">subqueries</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_query.html#a3c28679f69a53065a56dedf186f00aa8">_subqueries</a>; };</div>
<div class="line"><a name="l00349"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_query.html#aa2d4db9abb359fe1de8531f0bbfc566a">  349</a></span>&#160;    std::vector&lt;CanvasSubquery&gt;&amp; <a class="code" href="classsh_1_1_canvas_query.html#aa2d4db9abb359fe1de8531f0bbfc566a">subqueries</a>() { <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_query.html#a3c28679f69a53065a56dedf186f00aa8">_subqueries</a>; };</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Archive&gt;</div>
<div class="line"><a name="l00359"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_query.html#a780b60facb582d9f133f2f24c9a63831">  359</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_canvas_query.html#a780b60facb582d9f133f2f24c9a63831">serialize</a>(Archive&amp; archive) {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        archive(<a class="code" href="classsh_1_1_canvas_query.html#a3c28679f69a53065a56dedf186f00aa8">_subqueries</a>);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160; </div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    nlohmann::json <a class="code" href="classsh_1_1_canvas_query.html#ac60d2e0052cef78bf1f5b961fbb804ac">to_JSON</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160; </div>
<div class="line"><a name="l00365"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_query.html#a3653e6142abbc4f15ad6cfb56212e6ae">  365</a></span>&#160;    <a class="code" href="namespacesh.html#aec64f5ed667b9123fa0f65cea82b0d95">CanvasSubquery</a>&amp; <a class="code" href="classsh_1_1_canvas_query.html#a3653e6142abbc4f15ad6cfb56212e6ae">operator[]</a>(<span class="keywordtype">size_t</span> idx) { <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_query.html#a3c28679f69a53065a56dedf186f00aa8">_subqueries</a>[idx]; }</div>
<div class="line"><a name="l00366"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_query.html#a32110fdc53324f5250c3f283ade52707">  366</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="namespacesh.html#aec64f5ed667b9123fa0f65cea82b0d95">CanvasSubquery</a>&amp; <a class="code" href="classsh_1_1_canvas_query.html#a32110fdc53324f5250c3f283ade52707">operator[]</a>(<span class="keywordtype">size_t</span> idx)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_canvas_query.html#a3c28679f69a53065a56dedf186f00aa8">_subqueries</a>[idx]; }</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160; </div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="keyword">static</span> std::vector&lt;CanvasQuery&gt; <a class="code" href="classsh_1_1_canvas_query.html#a126d241e9b7f382fd0d2e38dbf93c7c9">parse_json</a>(<span class="keyword">const</span> std::string&amp; filepath);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keyword">static</span> std::vector&lt;CanvasQuery&gt; <a class="code" href="classsh_1_1_canvas_query.html#adb3289433667df8eda82ab3ca94b30b6">parse_json_contents</a>(<span class="keyword">const</span> std::string&amp; contents,</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                                                        <span class="keyword">const</span> std::filesystem::path parentPath);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_query.html#ad2063758fbafadf5caa55edd70c8bd57">  375</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classsh_1_1_canvas_query.html#ad2063758fbafadf5caa55edd70c8bd57">operator==</a>(<span class="keyword">const</span> <a class="code" href="classsh_1_1_canvas_query.html">CanvasQuery</a>&amp; b)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        <span class="keywordflow">if</span> (b.<a class="code" href="classsh_1_1_canvas_query.html#aaa83285955b4adb547865a440a8ab423">size</a>() != <a class="code" href="classsh_1_1_canvas_query.html#aaa83285955b4adb547865a440a8ab423">size</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160; </div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classsh_1_1_canvas_query.html#aaa83285955b4adb547865a440a8ab423">size</a>(); ++i) {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            <span class="keyword">auto</span>&amp;&amp; s1 = <a class="code" href="classsh_1_1_canvas_query.html#a3c28679f69a53065a56dedf186f00aa8">_subqueries</a>[i];</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;            <span class="keyword">auto</span>&amp;&amp; s2 = b.<a class="code" href="classsh_1_1_canvas_query.html#a3c28679f69a53065a56dedf186f00aa8">_subqueries</a>[i];</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160; </div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <span class="keywordflow">if</span> (std::holds_alternative&lt;CanvasSubqueryText&gt;(s1) &amp;&amp; std::holds_alternative&lt;CanvasSubqueryText&gt;(s2)) {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                <span class="keyword">auto</span>&amp;&amp; s1t = std::get&lt;CanvasSubqueryText&gt;(s1);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                <span class="keyword">auto</span>&amp;&amp; s2t = std::get&lt;CanvasSubqueryText&gt;(s2);</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                <span class="keywordflow">if</span> (s1t != s2t) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (std::holds_alternative&lt;CanvasSubqueryBitmap&gt;(s1) &amp;&amp;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                       std::holds_alternative&lt;CanvasSubqueryBitmap&gt;(s2)) {</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                <span class="keyword">auto</span>&amp;&amp; s1b = std::get&lt;CanvasSubqueryBitmap&gt;(s1);</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <span class="keyword">auto</span>&amp;&amp; s2b = std::get&lt;CanvasSubqueryBitmap&gt;(s2);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                <span class="keywordflow">if</span> (s1b != s2b) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;            }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160; </div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    }</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">// *** MEMBER VARIABLES ***</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00401"></a><span class="lineno"><a class="line" href="classsh_1_1_canvas_query.html#a3c28679f69a53065a56dedf186f00aa8">  401</a></span>&#160;    std::vector&lt;CanvasSubquery&gt; <a class="code" href="classsh_1_1_canvas_query.html#a3c28679f69a53065a56dedf186f00aa8">_subqueries</a>;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;};</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160; </div>
<div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html">  404</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsh_1_1_temporal_query.html">TemporalQuery</a> {</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">// *** METHODS ***</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00407"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#aeb63eb0fdcec69a0eb834e165e70e508">  407</a></span>&#160;    <a class="code" href="structsh_1_1_temporal_query.html#aeb63eb0fdcec69a0eb834e165e70e508">TemporalQuery</a>() : <a class="code" href="structsh_1_1_temporal_query.html#a8ded6bcaa8e398e1b63ff539ad350880">textual</a>{}, <a class="code" href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">canvas</a>{}, <a class="code" href="structsh_1_1_temporal_query.html#a17ee5520c02fc7d1168aba2bd6b0eaa3">relocation</a>{ <a class="code" href="namespacesh.html#a6a19838b66e6e1aaaaba6ece7dc674f0">ERR_VAL</a>&lt;<a class="code" href="namespacesh.html#afc709d69056aeb5c2549b4437b56aaf1">FrameId</a>&gt;() } {}</div>
<div class="line"><a name="l00408"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#af23ec2545037f587c61221f7d8013881">  408</a></span>&#160;    <a class="code" href="structsh_1_1_temporal_query.html#af23ec2545037f587c61221f7d8013881">TemporalQuery</a>(<a class="code" href="namespacesh.html#aa45f67c730dfeb41be23f84ab2e7d610">TextualQuery</a> tq) : <a class="code" href="structsh_1_1_temporal_query.html#a8ded6bcaa8e398e1b63ff539ad350880">textual</a>{ tq }, <a class="code" href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">canvas</a>{}, <a class="code" href="structsh_1_1_temporal_query.html#a17ee5520c02fc7d1168aba2bd6b0eaa3">relocation</a>{ <a class="code" href="namespacesh.html#a6a19838b66e6e1aaaaba6ece7dc674f0">ERR_VAL</a>&lt;<a class="code" href="namespacesh.html#afc709d69056aeb5c2549b4437b56aaf1">FrameId</a>&gt;() } {}</div>
<div class="line"><a name="l00409"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#a925bbb520c8c887b5264021b2ea1ed9e">  409</a></span>&#160;    <a class="code" href="structsh_1_1_temporal_query.html#a925bbb520c8c887b5264021b2ea1ed9e">TemporalQuery</a>(<a class="code" href="classsh_1_1_canvas_query.html">CanvasQuery</a> cq) : <a class="code" href="structsh_1_1_temporal_query.html#a8ded6bcaa8e398e1b63ff539ad350880">textual</a>{}, <a class="code" href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">canvas</a>{ cq }, <a class="code" href="structsh_1_1_temporal_query.html#a17ee5520c02fc7d1168aba2bd6b0eaa3">relocation</a>{ <a class="code" href="namespacesh.html#a6a19838b66e6e1aaaaba6ece7dc674f0">ERR_VAL</a>&lt;<a class="code" href="namespacesh.html#afc709d69056aeb5c2549b4437b56aaf1">FrameId</a>&gt;() } {}</div>
<div class="line"><a name="l00410"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#a938abcb8dae2703994608a80795dbd48">  410</a></span>&#160;    <a class="code" href="structsh_1_1_temporal_query.html#a938abcb8dae2703994608a80795dbd48">TemporalQuery</a>(<a class="code" href="namespacesh.html#a55ccd7c7b6858c4d674bb5f054f55345">RelocationQuery</a> rq) : <a class="code" href="structsh_1_1_temporal_query.html#a8ded6bcaa8e398e1b63ff539ad350880">textual</a>{}, <a class="code" href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">canvas</a>{}, <a class="code" href="structsh_1_1_temporal_query.html#a17ee5520c02fc7d1168aba2bd6b0eaa3">relocation</a>{ rq } {}</div>
<div class="line"><a name="l00411"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#a105e6b9e34f1f646d37ffba78a3bd654">  411</a></span>&#160;    <a class="code" href="structsh_1_1_temporal_query.html#a105e6b9e34f1f646d37ffba78a3bd654">TemporalQuery</a>(<a class="code" href="namespacesh.html#aa45f67c730dfeb41be23f84ab2e7d610">TextualQuery</a> tq, <a class="code" href="classsh_1_1_canvas_query.html">CanvasQuery</a> cq, <a class="code" href="namespacesh.html#a55ccd7c7b6858c4d674bb5f054f55345">RelocationQuery</a> rq)</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        : <a class="code" href="structsh_1_1_temporal_query.html#a8ded6bcaa8e398e1b63ff539ad350880">textual</a>{ tq }, <a class="code" href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">canvas</a>{ cq }, <a class="code" href="structsh_1_1_temporal_query.html#a17ee5520c02fc7d1168aba2bd6b0eaa3">relocation</a>{ rq } {}</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <span class="comment">// ---</span></div>
<div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#ae08614afcd3409c5f108ed6169557219">  414</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_temporal_query.html#ae08614afcd3409c5f108ed6169557219">score_secondary</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structsh_1_1_temporal_query.html#a675384ba7b82552c88ed8e3a2c5086dd">_score_secondary</a>; }</div>
<div class="line"><a name="l00415"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#a57f88920723d9948afdc121d1dd45aac">  415</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structsh_1_1_temporal_query.html#a57f88920723d9948afdc121d1dd45aac">score_secondary</a>(<span class="keywordtype">bool</span> new_value) { <a class="code" href="structsh_1_1_temporal_query.html#a675384ba7b82552c88ed8e3a2c5086dd">_score_secondary</a> = new_value; }</div>
<div class="line"><a name="l00416"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#a8ae3e116eb6ccecc5f7247c7cdb84561">  416</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_temporal_query.html#a8ae3e116eb6ccecc5f7247c7cdb84561">is_relocation</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structsh_1_1_temporal_query.html#a17ee5520c02fc7d1168aba2bd6b0eaa3">relocation</a> != ERR_VAL&lt;FrameId&gt;(); }</div>
<div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#ae7205b76ac1c1cec865520a8521c0754">  417</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_temporal_query.html#ae7205b76ac1c1cec865520a8521c0754">is_canvas</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">canvas</a>.<a class="code" href="classsh_1_1_canvas_query.html#a8ea7e1d90470a1983a38010f885d309a">empty</a>(); }</div>
<div class="line"><a name="l00418"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#a007a2cce089e21cfb35ad0baf62044e0">  418</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_temporal_query.html#a007a2cce089e21cfb35ad0baf62044e0">is_text</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="structsh_1_1_temporal_query.html#a8ae3e116eb6ccecc5f7247c7cdb84561">is_relocation</a>() &amp;&amp; !<a class="code" href="structsh_1_1_temporal_query.html#a8ded6bcaa8e398e1b63ff539ad350880">textual</a>.empty(); }</div>
<div class="line"><a name="l00419"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#a98134d05bec3818116d9391536a1d6ba">  419</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_temporal_query.html#a98134d05bec3818116d9391536a1d6ba">empty</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="structsh_1_1_temporal_query.html#a17ee5520c02fc7d1168aba2bd6b0eaa3">relocation</a> == ERR_VAL&lt;RelocationQuery&gt;()) &amp;&amp; (<a class="code" href="namespacesh_1_1utils.html#a2745d75a8be0fd8ea1e0bb9c25bfc1f6">utils::trim</a>(<a class="code" href="structsh_1_1_temporal_query.html#a8ded6bcaa8e398e1b63ff539ad350880">textual</a>).empty()) &amp;&amp; <a class="code" href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">canvas</a>.<a class="code" href="classsh_1_1_canvas_query.html#a8ea7e1d90470a1983a38010f885d309a">empty</a>();</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    }</div>
<div class="line"><a name="l00422"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#a44813e07ef1d77d5de0b796d306664d7">  422</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_temporal_query.html#a44813e07ef1d77d5de0b796d306664d7">is_bitmap_canvas</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="structsh_1_1_temporal_query.html#ae7205b76ac1c1cec865520a8521c0754">is_canvas</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sqs{ <a class="code" href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">canvas</a>.<a class="code" href="classsh_1_1_canvas_query.html#a48b1cab0a472c077f93e76443af13a0b">subqueries</a>() };</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        <span class="keywordflow">return</span> std::holds_alternative&lt;CanvasSubqueryBitmap&gt;(sqs.front());</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    }</div>
<div class="line"><a name="l00428"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#a5a0f39b784afe050efb6e868e6e8dcc5">  428</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_temporal_query.html#a5a0f39b784afe050efb6e868e6e8dcc5">is_text_canvas</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="structsh_1_1_temporal_query.html#ae7205b76ac1c1cec865520a8521c0754">is_canvas</a>()) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160; </div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sqs{ <a class="code" href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">canvas</a>.<a class="code" href="classsh_1_1_canvas_query.html#a48b1cab0a472c077f93e76443af13a0b">subqueries</a>() };</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">return</span> std::holds_alternative&lt;CanvasSubqueryText&gt;(sqs.front());</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160; </div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Archive&gt;</div>
<div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#a546a2cd9405cbff7a93b1f5c05d2ffa0">  436</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structsh_1_1_temporal_query.html#a546a2cd9405cbff7a93b1f5c05d2ffa0">serialize</a>(Archive&amp; archive) {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;        archive(<a class="code" href="structsh_1_1_temporal_query.html#a8ded6bcaa8e398e1b63ff539ad350880">textual</a>, <a class="code" href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">canvas</a>, <a class="code" href="structsh_1_1_temporal_query.html#a17ee5520c02fc7d1168aba2bd6b0eaa3">relocation</a>);</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// ---</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">// bool operator!=(const TemporalQuery&amp; b) const { return !((*this) == b); }</span></div>
<div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#abe3d49ed73f60528153e60a237f38509">  441</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_temporal_query.html#abe3d49ed73f60528153e60a237f38509">operator==</a>(<span class="keyword">const</span> <a class="code" href="structsh_1_1_temporal_query.html">TemporalQuery</a>&amp; b)<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structsh_1_1_temporal_query.html#a8ded6bcaa8e398e1b63ff539ad350880">textual</a> == b.<a class="code" href="structsh_1_1_temporal_query.html#a8ded6bcaa8e398e1b63ff539ad350880">textual</a> &amp;&amp; <a class="code" href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">canvas</a> == b.<a class="code" href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">canvas</a> &amp;&amp; <a class="code" href="structsh_1_1_temporal_query.html#a17ee5520c02fc7d1168aba2bd6b0eaa3">relocation</a> == b.<a class="code" href="structsh_1_1_temporal_query.html#a17ee5520c02fc7d1168aba2bd6b0eaa3">relocation</a> &amp;&amp;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;               <a class="code" href="structsh_1_1_temporal_query.html#ae08614afcd3409c5f108ed6169557219">score_secondary</a>() == b.<a class="code" href="structsh_1_1_temporal_query.html#ae08614afcd3409c5f108ed6169557219">score_secondary</a>();</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    }</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160; </div>
<div class="line"><a name="l00446"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#a7ad15be378dc48fc43aacdb988b956bb">  446</a></span>&#160;    nlohmann::json <a class="code" href="structsh_1_1_temporal_query.html#a7ad15be378dc48fc43aacdb988b956bb">to_JSON</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        nlohmann::json o = nlohmann::json::object();</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160; </div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        o[<span class="stringliteral">&quot;textual&quot;</span>] = <a class="code" href="structsh_1_1_temporal_query.html#a8ded6bcaa8e398e1b63ff539ad350880">textual</a>;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        o[<span class="stringliteral">&quot;canvas&quot;</span>] = <a class="code" href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">canvas</a>.<a class="code" href="classsh_1_1_canvas_query.html#ac60d2e0052cef78bf1f5b961fbb804ac">to_JSON</a>();</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160; </div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structsh_1_1_temporal_query.html#a17ee5520c02fc7d1168aba2bd6b0eaa3">relocation</a> != ERR_VAL&lt;RelocationQuery&gt;()) {</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;            o[<span class="stringliteral">&quot;relocation&quot;</span>] = <a class="code" href="structsh_1_1_temporal_query.html#a17ee5520c02fc7d1168aba2bd6b0eaa3">relocation</a>;</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;            o[<span class="stringliteral">&quot;relocation&quot;</span>] = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        }</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160; </div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordflow">return</span> o;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    }</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160; </div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <span class="comment">// *** MEMBER VARIABLES ***</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00463"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#a8ded6bcaa8e398e1b63ff539ad350880">  463</a></span>&#160;    <a class="code" href="namespacesh.html#aa45f67c730dfeb41be23f84ab2e7d610">TextualQuery</a> <a class="code" href="structsh_1_1_temporal_query.html#a8ded6bcaa8e398e1b63ff539ad350880">textual</a>;</div>
<div class="line"><a name="l00464"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">  464</a></span>&#160;    <a class="code" href="classsh_1_1_canvas_query.html">CanvasQuery</a> <a class="code" href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">canvas</a>;</div>
<div class="line"><a name="l00465"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#a17ee5520c02fc7d1168aba2bd6b0eaa3">  465</a></span>&#160;    <a class="code" href="namespacesh.html#a55ccd7c7b6858c4d674bb5f054f55345">RelocationQuery</a> <a class="code" href="structsh_1_1_temporal_query.html#a17ee5520c02fc7d1168aba2bd6b0eaa3">relocation</a>;</div>
<div class="line"><a name="l00466"></a><span class="lineno"><a class="line" href="structsh_1_1_temporal_query.html#a675384ba7b82552c88ed8e3a2c5086dd">  466</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_temporal_query.html#a675384ba7b82552c88ed8e3a2c5086dd">_score_secondary</a>{ <span class="keyword">false</span> };</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;};</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160; </div>
<div class="line"><a name="l00470"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html">  470</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsh_1_1_query.html">Query</a> {</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="comment">// *** METHODS ***</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00473"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#ae7c9aba946797845435d2830698715fe">  473</a></span>&#160;    <a class="code" href="structsh_1_1_query.html#ae7c9aba946797845435d2830698715fe">Query</a>() = <span class="keywordflow">default</span>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> QueryType&gt;</div>
<div class="line"><a name="l00475"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#af52c0669b4823e3da17a24b2d77ce2df">  475</a></span>&#160;    <a class="code" href="structsh_1_1_query.html#af52c0669b4823e3da17a24b2d77ce2df">Query</a>(<span class="keyword">const</span> std::vector&lt;QueryType&gt;&amp; temp_queries) : <a class="code" href="structsh_1_1_query.html#ac9cf62939b2963a3ced74ab92fb9f1a4">metadata</a>{}, <a class="code" href="structsh_1_1_query.html#a6cc77b2f2d071937780f036f2e72127d">filters</a>{}, <a class="code" href="structsh_1_1_query.html#a64356a1b61040c098b8f61ff4e448d07">relevance_feeedback</a>{} {</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; q : temp_queries) {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            <span class="keyword">auto</span>&amp; item{ <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>.emplace_back(q) };</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            <span class="comment">// Make sure correct scoring is set</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;            item.score_secondary(<a class="code" href="structsh_1_1_query.html#af277b7aa645868b8262b2b936cac6635">_score_secondary</a>);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        }</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    }</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160; </div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="comment">// ---</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160; </div>
<div class="line"><a name="l00485"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#af72ae6052914737f96abcd027b9f8ff5">  485</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_query.html#af72ae6052914737f96abcd027b9f8ff5">is_relocation</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; t : <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;            <span class="keywordflow">if</span> (t.is_relocation()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        }</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div>
<div class="line"><a name="l00492"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#addf6bbb26911699ea6ae10a642a75c3a">  492</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_query.html#addf6bbb26911699ea6ae10a642a75c3a">score_secondary</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structsh_1_1_query.html#af277b7aa645868b8262b2b936cac6635">_score_secondary</a>; }</div>
<div class="line"><a name="l00493"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#a5d80a71955ab22d8d45d439b99ae544e">  493</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structsh_1_1_query.html#a5d80a71955ab22d8d45d439b99ae544e">score_secondary</a>(<span class="keywordtype">bool</span> new_value) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        <a class="code" href="structsh_1_1_query.html#af277b7aa645868b8262b2b936cac6635">_score_secondary</a> = new_value;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; q : <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>) {</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;            q.score_secondary(new_value);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;    }</div>
<div class="line"><a name="l00499"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#a7fe4ae559ec7670eb67892cdda95ae2c">  499</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_query.html#a7fe4ae559ec7670eb67892cdda95ae2c">is_canvas</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>.front().is_canvas(); }</div>
<div class="line"><a name="l00500"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#ab765ee27846f974845ad39b2f3b4a3f9">  500</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_query.html#ab765ee27846f974845ad39b2f3b4a3f9">is_bitmap_canvas</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>.front().is_bitmap_canvas(); }</div>
<div class="line"><a name="l00501"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#a91e01dca690218e8baf2085f796ec9a7">  501</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_query.html#a91e01dca690218e8baf2085f796ec9a7">is_text_canvas</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>.front().is_text_canvas(); }</div>
<div class="line"><a name="l00502"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#a63b190b6bc56c2b1d9ae9dd03d0806a5">  502</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_query.html#a63b190b6bc56c2b1d9ae9dd03d0806a5">is_temporal_text</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !<a class="code" href="structsh_1_1_query.html#af72ae6052914737f96abcd027b9f8ff5">is_relocation</a>() &amp;&amp; <a class="code" href="structsh_1_1_query.html#ad5ff0a61f0ca7081bc178af3186f9695">is_text</a>() &amp;&amp; <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>.size() &gt; 1; }</div>
<div class="line"><a name="l00503"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#ad5ff0a61f0ca7081bc178af3186f9695">  503</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_query.html#ad5ff0a61f0ca7081bc178af3186f9695">is_text</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>.front().is_text(); }</div>
<div class="line"><a name="l00504"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#a9efd271b5c773b85b93379d3106ce99d">  504</a></span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_query.html#a9efd271b5c773b85b93379d3106ce99d">empty</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; q : <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            <span class="keywordflow">if</span> (q.empty()) <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        }</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160; </div>
<div class="line"><a name="l00511"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#a39bdcfc017ef0f75b0cc8a03113ceeaf">  511</a></span>&#160;    <span class="keyword">const</span> std::vector&lt;TemporalQuery&gt;&amp; <a class="code" href="structsh_1_1_query.html#a39bdcfc017ef0f75b0cc8a03113ceeaf">queries</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>; }</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160; </div>
<div class="line"><a name="l00513"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#a4603e770e7ea0a16b6c1847e08992474">  513</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structsh_1_1_query.html#a4603e770e7ea0a16b6c1847e08992474">set_targets</a>(<span class="keyword">const</span> std::vector&lt;VideoFrame&gt;&amp; ts) {</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <a class="code" href="structsh_1_1_query.html#a22fc0a2142953fab33e4810158820ab0">targets</a>.clear();</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; t : ts) {</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <a class="code" href="structsh_1_1_query.html#a22fc0a2142953fab33e4810158820ab0">targets</a>.emplace_back(t.frame_ID);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        }</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    }</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160; </div>
<div class="line"><a name="l00520"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#a960bc44d0f20927a5b16884416f05df1">  520</a></span>&#160;    std::string <a class="code" href="structsh_1_1_query.html#a960bc44d0f20927a5b16884416f05df1">get_plain_text_query</a>()<span class="keyword"> const </span>{</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        std::string text2;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160; </div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; tq : <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>) {</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;            <a class="code" href="namespacesh.html#aa45f67c730dfeb41be23f84ab2e7d610">TextualQuery</a> new_query;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160; </div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;            <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sqs{ tq.canvas.subqueries() };</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;            std::string text{ tq.textual };</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;            <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> idx{ 0 }; idx &lt; sqs.size(); ++idx) {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;                <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sq{ sqs[idx] };</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160; </div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;                <span class="keywordflow">if</span> (!std::holds_alternative&lt;CanvasSubqueryText&gt;(sq)) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                }</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160; </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                <span class="keyword">const</span> <a class="code" href="classsh_1_1_canvas_subquery_text.html">CanvasSubqueryText</a>&amp; s{ std::get&lt;CanvasSubqueryText&gt;(sq) };</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                text.append(<span class="stringliteral">&quot; [&quot;</span>).append(s.query()).append(<span class="stringliteral">&quot;] &quot;</span>);</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;            }</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;            <span class="keywordflow">if</span> (!text.empty()) {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                text2.append(text).append(<span class="stringliteral">&quot; &gt;&gt; &quot;</span>);</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="keywordflow">if</span> (text2.length() &gt; 0) {</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;            text2.pop_back();</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;            text2.pop_back();</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            text2.pop_back();</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;            text2.pop_back();</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        }</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160; </div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="keywordflow">return</span> text2;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    }</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160; </div>
<div class="line"><a name="l00553"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#a710b50d6429b4358cc111255eb88fd9a">  553</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structsh_1_1_query.html#a710b50d6429b4358cc111255eb88fd9a">transform_to_no_pos_queries</a>() {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="structsh_1_1_query.html#a63b190b6bc56c2b1d9ae9dd03d0806a5">is_temporal_text</a>()) {</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;&gt;&gt;&gt; DECAY TEMPORAL TEXT: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;            <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>.erase(<a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>.begin() + 1);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;            <a class="code" href="static-logger_8hpp.html#a1cc8c9c0fad03dc2462abdacd06fb4b5">do_assert</a>(<a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>.size() == 1, <span class="stringliteral">&quot;Must have 1 item.&quot;</span>);</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structsh_1_1_query.html#a91e01dca690218e8baf2085f796ec9a7">is_text_canvas</a>()) {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;&gt;&gt;&gt; DECAY TEXT CANVAS: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; tq : <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>) {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                <a class="code" href="namespacesh.html#aa45f67c730dfeb41be23f84ab2e7d610">TextualQuery</a> new_query;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160; </div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sqs{ tq.canvas.subqueries() };</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                std::string text;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> idx{ 0 }; idx &lt; sqs.size(); ++idx) {</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;                    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; sq{ sqs[idx] };</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160; </div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                    <span class="keyword">const</span> <a class="code" href="classsh_1_1_canvas_subquery_text.html">CanvasSubqueryText</a>&amp; s{ std::get&lt;CanvasSubqueryText&gt;(sq) };</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                    text.append(s.query()).append(<span class="stringliteral">&quot; &quot;</span>);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;                }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;                tq.textual = text;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;                tq.canvas = <a class="code" href="classsh_1_1_canvas_query.html">CanvasQuery</a>{};  <span class="comment">//&lt; Empty canvas query</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            }</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structsh_1_1_query.html#ab765ee27846f974845ad39b2f3b4a3f9">is_bitmap_canvas</a>()) {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;&gt;&gt;&gt; DECAY BITMAP CANVAS: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; tq : <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>) {</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;                <span class="keyword">auto</span>&amp; sqs{ tq.canvas.<a class="code" href="classsh_1_1_canvas_query.html#a48b1cab0a472c077f93e76443af13a0b">subqueries</a>() };</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> idx{ 0 }; idx &lt; sqs.size(); ++idx) {</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;                    <span class="keyword">auto</span>&amp; sq{ sqs[idx] };</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160; </div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;                    <a class="code" href="classsh_1_1_canvas_subquery_bitmap.html">CanvasSubqueryBitmap</a>&amp; s{ std::get&lt;CanvasSubqueryBitmap&gt;(sq) };</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;                    s.<a class="code" href="classsh_1_1_canvas_subquery_base.html#afaeb4fb87daed5798b62abc3632ee813">unposition</a>();</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            }</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="structsh_1_1_query.html#af72ae6052914737f96abcd027b9f8ff5">is_relocation</a>()) {</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;            std::cout &lt;&lt; <span class="stringliteral">&quot;&gt;&gt;&gt; DECAY RELOCATION: &quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp;&amp; tq : <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                tq.relocation = ERR_VAL&lt;FrameId&gt;();</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160; </div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    <span class="comment">// --- Helper methods ---</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    nlohmann::json <a class="code" href="structsh_1_1_query.html#a0567cca3ee99a0148d2d7d154686fb13">to_JSON</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160; </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Archive&gt;</div>
<div class="line"><a name="l00597"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#a24f3e4157db265de46626d130667c4ad">  597</a></span>&#160;    <span class="keywordtype">void</span> <a class="code" href="structsh_1_1_query.html#a24f3e4157db265de46626d130667c4ad">serialize</a>(Archive&amp; archive) {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        archive(<a class="code" href="structsh_1_1_query.html#ac9cf62939b2963a3ced74ab92fb9f1a4">metadata</a>, <a class="code" href="structsh_1_1_query.html#a6cc77b2f2d071937780f036f2e72127d">filters</a>, <a class="code" href="structsh_1_1_query.html#a64356a1b61040c098b8f61ff4e448d07">relevance_feeedback</a>, <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>, <a class="code" href="structsh_1_1_query.html#a22fc0a2142953fab33e4810158820ab0">targets</a>, <a class="code" href="structsh_1_1_query.html#a8f8d0a017f81cdd99d0f54d84095af5c">is_save</a>);</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    }</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160; </div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    <span class="comment">// --- Operators ---</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="comment">// bool operator==(const TemporalQuery&amp; other) const { return (*this) == other; }</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160; </div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="comment">// *** MEMBER VARIABLES ***</span></div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00606"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#ac9cf62939b2963a3ced74ab92fb9f1a4">  606</a></span>&#160;    <a class="code" href="structsh_1_1_rescore_metadata.html">RescoreMetadata</a> <a class="code" href="structsh_1_1_query.html#ac9cf62939b2963a3ced74ab92fb9f1a4">metadata</a>;</div>
<div class="line"><a name="l00607"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#a6cc77b2f2d071937780f036f2e72127d">  607</a></span>&#160;    <a class="code" href="structsh_1_1_filters.html">Filters</a> <a class="code" href="structsh_1_1_query.html#a6cc77b2f2d071937780f036f2e72127d">filters</a>;</div>
<div class="line"><a name="l00608"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#a64356a1b61040c098b8f61ff4e448d07">  608</a></span>&#160;    <a class="code" href="namespacesh.html#aac4825713594a520bf3457b6db688ccc">RelevanceFeedbackQuery</a> <a class="code" href="structsh_1_1_query.html#a64356a1b61040c098b8f61ff4e448d07">relevance_feeedback</a>;</div>
<div class="line"><a name="l00609"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">  609</a></span>&#160;    std::vector&lt;TemporalQuery&gt; <a class="code" href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">temporal_queries</a>;</div>
<div class="line"><a name="l00610"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#a22fc0a2142953fab33e4810158820ab0">  610</a></span>&#160;    std::vector&lt;FrameId&gt; <a class="code" href="structsh_1_1_query.html#a22fc0a2142953fab33e4810158820ab0">targets</a>;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160; </div>
<div class="line"><a name="l00612"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#a8f8d0a017f81cdd99d0f54d84095af5c">  612</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_query.html#a8f8d0a017f81cdd99d0f54d84095af5c">is_save</a>{ <span class="keyword">false</span> };</div>
<div class="line"><a name="l00613"></a><span class="lineno"><a class="line" href="structsh_1_1_query.html#af277b7aa645868b8262b2b936cac6635">  613</a></span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="structsh_1_1_query.html#af277b7aa645868b8262b2b936cac6635">_score_secondary</a>{ <span class="keyword">false</span> };</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;};</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160; </div>
<div class="line"><a name="l00616"></a><span class="lineno"><a class="line" href="structsh_1_1_base_benchmark_query.html">  616</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsh_1_1_base_benchmark_query.html">BaseBenchmarkQuery</a> {</div>
<div class="line"><a name="l00617"></a><span class="lineno"><a class="line" href="structsh_1_1_base_benchmark_query.html#a9cd90301e86fbccf52e9a66f292f9933">  617</a></span>&#160;    std::vector&lt;FrameId&gt; <a class="code" href="structsh_1_1_base_benchmark_query.html#a9cd90301e86fbccf52e9a66f292f9933">targets</a>;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;};</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160; </div>
<div class="line"><a name="l00620"></a><span class="lineno"><a class="line" href="structsh_1_1_plain_text_benchmark_query.html">  620</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsh_1_1_plain_text_benchmark_query.html">PlainTextBenchmarkQuery</a> : <span class="keyword">public</span> <a class="code" href="structsh_1_1_base_benchmark_query.html">BaseBenchmarkQuery</a> {</div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="structsh_1_1_plain_text_benchmark_query.html#ab428c0081142bf74fa893aa544554a9d">  621</a></span>&#160;    std::vector&lt;TextualQuery&gt; <a class="code" href="structsh_1_1_plain_text_benchmark_query.html#ab428c0081142bf74fa893aa544554a9d">text_query</a>;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;};</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160; </div>
<div class="line"><a name="l00624"></a><span class="lineno"><a class="line" href="structsh_1_1_canvas_benchmark_query.html">  624</a></span>&#160;<span class="keyword">struct </span><a class="code" href="structsh_1_1_canvas_benchmark_query.html">CanvasBenchmarkQuery</a> : <span class="keyword">public</span> <a class="code" href="structsh_1_1_base_benchmark_query.html">BaseBenchmarkQuery</a> {</div>
<div class="line"><a name="l00625"></a><span class="lineno"><a class="line" href="structsh_1_1_canvas_benchmark_query.html#a7cb672371ddd839fc92035cbf468f4da">  625</a></span>&#160;    std::vector&lt;CanvasQuery&gt; <a class="code" href="structsh_1_1_canvas_benchmark_query.html#a7cb672371ddd839fc92035cbf468f4da">canvas_query</a>;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;};</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno"><a class="line" href="namespacesh.html#a1f69a0e0a4bc90f7f8afcfa3a9b440a7">  628</a></span>&#160;<span class="keyword">using</span> <a class="code" href="namespacesh.html#a1f69a0e0a4bc90f7f8afcfa3a9b440a7">BenchmarkQuery</a> = std::variant&lt;PlainTextBenchmarkQuery&gt;;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;};  <span class="comment">// namespace sh</span></div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160; </div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// QUERY_TYPES_H_</span></div>
<div class="ttc" id="aclasssh_1_1_canvas_query_html"><div class="ttname"><a href="classsh_1_1_canvas_query.html">sh::CanvasQuery</a></div><div class="ttdoc">Type representing query related to the canvas (atm text &amp; bitmap) rectangles.</div><div class="ttdef"><b>Definition:</b> query-types.h:325</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_query_html_a126d241e9b7f382fd0d2e38dbf93c7c9"><div class="ttname"><a href="classsh_1_1_canvas_query.html#a126d241e9b7f382fd0d2e38dbf93c7c9">sh::CanvasQuery::parse_json</a></div><div class="ttdeci">static std::vector&lt; CanvasQuery &gt; parse_json(const std::string &amp;filepath)</div><div class="ttdoc">Parses JSON file created by to_JSON.</div><div class="ttdef"><b>Definition:</b> query-types.cpp:115</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_query_html_a32110fdc53324f5250c3f283ade52707"><div class="ttname"><a href="classsh_1_1_canvas_query.html#a32110fdc53324f5250c3f283ade52707">sh::CanvasQuery::operator[]</a></div><div class="ttdeci">const CanvasSubquery &amp; operator[](size_t idx) const</div><div class="ttdef"><b>Definition:</b> query-types.h:366</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_query_html_a3653e6142abbc4f15ad6cfb56212e6ae"><div class="ttname"><a href="classsh_1_1_canvas_query.html#a3653e6142abbc4f15ad6cfb56212e6ae">sh::CanvasQuery::operator[]</a></div><div class="ttdeci">CanvasSubquery &amp; operator[](size_t idx)</div><div class="ttdef"><b>Definition:</b> query-types.h:365</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_query_html_a39852125049ed5e67300017791d442fd"><div class="ttname"><a href="classsh_1_1_canvas_query.html#a39852125049ed5e67300017791d442fd">sh::CanvasQuery::emplace_back</a></div><div class="ttdeci">void emplace_back(const RelativeRect &amp;rect, const std::string &amp;text_query)</div><div class="ttdoc">Emplace new subregion TEXT query.</div><div class="ttdef"><b>Definition:</b> query-types.cpp:123</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_query_html_a3c28679f69a53065a56dedf186f00aa8"><div class="ttname"><a href="classsh_1_1_canvas_query.html#a3c28679f69a53065a56dedf186f00aa8">sh::CanvasQuery::_subqueries</a></div><div class="ttdeci">std::vector&lt; CanvasSubquery &gt; _subqueries</div><div class="ttdoc">Subregion queries.</div><div class="ttdef"><b>Definition:</b> query-types.h:401</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_query_html_a48b1cab0a472c077f93e76443af13a0b"><div class="ttname"><a href="classsh_1_1_canvas_query.html#a48b1cab0a472c077f93e76443af13a0b">sh::CanvasQuery::subqueries</a></div><div class="ttdeci">const std::vector&lt; CanvasSubquery &gt; &amp; subqueries() const</div><div class="ttdef"><b>Definition:</b> query-types.h:348</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_query_html_a780b60facb582d9f133f2f24c9a63831"><div class="ttname"><a href="classsh_1_1_canvas_query.html#a780b60facb582d9f133f2f24c9a63831">sh::CanvasQuery::serialize</a></div><div class="ttdeci">void serialize(Archive &amp;archive)</div><div class="ttdoc">This allows portable binary serialization of Collage instances to files.</div><div class="ttdef"><b>Definition:</b> query-types.h:359</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_query_html_a8ea7e1d90470a1983a38010f885d309a"><div class="ttname"><a href="classsh_1_1_canvas_query.html#a8ea7e1d90470a1983a38010f885d309a">sh::CanvasQuery::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> query-types.h:337</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_query_html_aa2d4db9abb359fe1de8531f0bbfc566a"><div class="ttname"><a href="classsh_1_1_canvas_query.html#aa2d4db9abb359fe1de8531f0bbfc566a">sh::CanvasQuery::subqueries</a></div><div class="ttdeci">std::vector&lt; CanvasSubquery &gt; &amp; subqueries()</div><div class="ttdef"><b>Definition:</b> query-types.h:349</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_query_html_aaa83285955b4adb547865a440a8ab423"><div class="ttname"><a href="classsh_1_1_canvas_query.html#aaa83285955b4adb547865a440a8ab423">sh::CanvasQuery::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> query-types.h:336</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_query_html_ac60d2e0052cef78bf1f5b961fbb804ac"><div class="ttname"><a href="classsh_1_1_canvas_query.html#ac60d2e0052cef78bf1f5b961fbb804ac">sh::CanvasQuery::to_JSON</a></div><div class="ttdeci">nlohmann::json to_JSON() const</div><div class="ttdef"><b>Definition:</b> query-types.cpp:67</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_query_html_ad2063758fbafadf5caa55edd70c8bd57"><div class="ttname"><a href="classsh_1_1_canvas_query.html#ad2063758fbafadf5caa55edd70c8bd57">sh::CanvasQuery::operator==</a></div><div class="ttdeci">bool operator==(const CanvasQuery &amp;b) const</div><div class="ttdef"><b>Definition:</b> query-types.h:375</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_query_html_adb3289433667df8eda82ab3ca94b30b6"><div class="ttname"><a href="classsh_1_1_canvas_query.html#adb3289433667df8eda82ab3ca94b30b6">sh::CanvasQuery::parse_json_contents</a></div><div class="ttdeci">static std::vector&lt; CanvasQuery &gt; parse_json_contents(const std::string &amp;contents, const std::filesystem::path parentPath)</div><div class="ttdoc">Parses JSON string created by to_JSON.</div><div class="ttdef"><b>Definition:</b> query-types.cpp:79</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_base_html"><div class="ttname"><a href="classsh_1_1_canvas_subquery_base.html">sh::CanvasSubqueryBase</a></div><div class="ttdef"><b>Definition:</b> query-types.h:191</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_base_html_a08b8aaa0f2cf88592b13efbfdf0fbf4d"><div class="ttname"><a href="classsh_1_1_canvas_subquery_base.html#a08b8aaa0f2cf88592b13efbfdf0fbf4d">sh::CanvasSubqueryBase::CanvasSubqueryBase</a></div><div class="ttdeci">CanvasSubqueryBase()=default</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_base_html_a165d4fdab8281ee46fd1d9fa3934d15e"><div class="ttname"><a href="classsh_1_1_canvas_subquery_base.html#a165d4fdab8281ee46fd1d9fa3934d15e">sh::CanvasSubqueryBase::CanvasSubqueryBase</a></div><div class="ttdeci">CanvasSubqueryBase(const RelativeRect &amp;rect)</div><div class="ttdef"><b>Definition:</b> query-types.h:197</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_base_html_a179ec7d202b6109b92fcba90c7c0ee5d"><div class="ttname"><a href="classsh_1_1_canvas_subquery_base.html#a179ec7d202b6109b92fcba90c7c0ee5d">sh::CanvasSubqueryBase::rect</a></div><div class="ttdeci">const RelativeRect &amp; rect() const</div><div class="ttdef"><b>Definition:</b> query-types.h:202</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_base_html_a84edfdef436ff5675792679b8862500a"><div class="ttname"><a href="classsh_1_1_canvas_subquery_base.html#a84edfdef436ff5675792679b8862500a">sh::CanvasSubqueryBase::_rect</a></div><div class="ttdeci">RelativeRect _rect</div><div class="ttdef"><b>Definition:</b> query-types.h:193</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_base_html_afaeb4fb87daed5798b62abc3632ee813"><div class="ttname"><a href="classsh_1_1_canvas_subquery_base.html#afaeb4fb87daed5798b62abc3632ee813">sh::CanvasSubqueryBase::unposition</a></div><div class="ttdeci">void unposition()</div><div class="ttdoc">Set canvas positioned query as if they were across the whole canvas.</div><div class="ttdef"><b>Definition:</b> query-types.h:200</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html">sh::CanvasSubqueryBitmap</a></div><div class="ttdef"><b>Definition:</b> query-types.h:205</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_a08868f5b17d97af588455e54b6f9461f"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#a08868f5b17d97af588455e54b6f9461f">sh::CanvasSubqueryBitmap::_width</a></div><div class="ttdeci">size_t _width</div><div class="ttdef"><b>Definition:</b> query-types.h:207</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_a21e124bdd0e18255b0af25e67ac7cbdc"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#a21e124bdd0e18255b0af25e67ac7cbdc">sh::CanvasSubqueryBitmap::data</a></div><div class="ttdeci">const std::vector&lt; uint8_t &gt; &amp; data() const</div><div class="ttdef"><b>Definition:</b> query-types.h:232</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_a22c2edf2c592c966d4d7b111d2920b05"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#a22c2edf2c592c966d4d7b111d2920b05">sh::CanvasSubqueryBitmap::CanvasSubqueryBitmap</a></div><div class="ttdeci">CanvasSubqueryBitmap()=default</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_a54b0f8eef8a65681aba939b792e5f064"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#a54b0f8eef8a65681aba939b792e5f064">sh::CanvasSubqueryBitmap::CanvasSubqueryBitmap</a></div><div class="ttdeci">CanvasSubqueryBitmap(const RelativeRect &amp;rect, size_t bitmap_w, size_t bitmap_h, size_t num_channels, std::vector&lt; std::uint8_t &gt; &amp;&amp;_data)</div><div class="ttdef"><b>Definition:</b> query-types.h:218</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_a673f0845bae2abcb37b848356548501b"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#a673f0845bae2abcb37b848356548501b">sh::CanvasSubqueryBitmap::operator&lt;&lt;</a></div><div class="ttdeci">friend std::ostream &amp; operator&lt;&lt;(std::ofstream &amp;os, CanvasSubqueryBitmap x)</div><div class="ttdef"><b>Definition:</b> query-types.h:261</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_a6eb6834345adc9da4542b34abab4da7c"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#a6eb6834345adc9da4542b34abab4da7c">sh::CanvasSubqueryBitmap::to_JSON</a></div><div class="ttdeci">nlohmann::json to_JSON() const</div><div class="ttdef"><b>Definition:</b> query-types.h:244</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_a6f8b07fb902b9037205a48d9b6770907"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#a6f8b07fb902b9037205a48d9b6770907">sh::CanvasSubqueryBitmap::jpeg_filename</a></div><div class="ttdeci">std::string jpeg_filename</div><div class="ttdef"><b>Definition:</b> query-types.h:212</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_a7f63f1906fc6d594409cdb9c5fafef3c"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#a7f63f1906fc6d594409cdb9c5fafef3c">sh::CanvasSubqueryBitmap::data</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; &amp; data()</div><div class="ttdef"><b>Definition:</b> query-types.h:231</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_a8425e83aab22ac5f1409fe08e4d62535"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#a8425e83aab22ac5f1409fe08e4d62535">sh::CanvasSubqueryBitmap::height_pixels</a></div><div class="ttdeci">size_t height_pixels() const</div><div class="ttdef"><b>Definition:</b> query-types.h:230</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_a86aa63e37eb95cfbf961326a9d12fea4"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#a86aa63e37eb95cfbf961326a9d12fea4">sh::CanvasSubqueryBitmap::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> query-types.h:233</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_a92e9cec8a13a7266d236e1e84310c394"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#a92e9cec8a13a7266d236e1e84310c394">sh::CanvasSubqueryBitmap::width_pixels</a></div><div class="ttdeci">size_t width_pixels() const</div><div class="ttdef"><b>Definition:</b> query-types.h:229</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_a9b70a5757e4ea568069b82d32b45d59f"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#a9b70a5757e4ea568069b82d32b45d59f">sh::CanvasSubqueryBitmap::_data_int</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; _data_int</div><div class="ttdef"><b>Definition:</b> query-types.h:209</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_aa5dcfd3c7992c9b57e56415a51a925d0"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#aa5dcfd3c7992c9b57e56415a51a925d0">sh::CanvasSubqueryBitmap::_height</a></div><div class="ttdeci">size_t _height</div><div class="ttdef"><b>Definition:</b> query-types.h:208</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_aadc899e93c7685617d578c54d0b5e34a"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#aadc899e93c7685617d578c54d0b5e34a">sh::CanvasSubqueryBitmap::get_scaled_bitmap</a></div><div class="ttdeci">std::vector&lt; uint8_t &gt; get_scaled_bitmap(size_t w, size_t h) const</div><div class="ttdef"><b>Definition:</b> query-types.cpp:63</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_ab8bb0e808578f030e927ec64e4b2b361"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#ab8bb0e808578f030e927ec64e4b2b361">sh::CanvasSubqueryBitmap::num_channels</a></div><div class="ttdeci">size_t num_channels() const</div><div class="ttdef"><b>Definition:</b> query-types.h:228</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_ac17f4e5e79c6078bab865d9c52d8624f"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#ac17f4e5e79c6078bab865d9c52d8624f">sh::CanvasSubqueryBitmap::operator==</a></div><div class="ttdeci">bool operator==(const CanvasSubqueryBitmap &amp;b) const</div><div class="ttdef"><b>Definition:</b> query-types.h:239</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_ac50112fa838a330b69dd643e94f4420c"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#ac50112fa838a330b69dd643e94f4420c">sh::CanvasSubqueryBitmap::_num_channels</a></div><div class="ttdeci">size_t _num_channels</div><div class="ttdef"><b>Definition:</b> query-types.h:206</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_acf4e08d72bb597f035956f04c7238601"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#acf4e08d72bb597f035956f04c7238601">sh::CanvasSubqueryBitmap::operator!=</a></div><div class="ttdeci">bool operator!=(const CanvasSubqueryBitmap &amp;b) const</div><div class="ttdef"><b>Definition:</b> query-types.h:237</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_bitmap_html_aed3ec29bbe52523fac78fc9d0d394841"><div class="ttname"><a href="classsh_1_1_canvas_subquery_bitmap.html#aed3ec29bbe52523fac78fc9d0d394841">sh::CanvasSubqueryBitmap::serialize</a></div><div class="ttdeci">void serialize(Archive &amp;archive)</div><div class="ttdef"><b>Definition:</b> query-types.h:254</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_text_html"><div class="ttname"><a href="classsh_1_1_canvas_subquery_text.html">sh::CanvasSubqueryText</a></div><div class="ttdef"><b>Definition:</b> query-types.h:277</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_text_html_a05bdc2a9095e9383a8e84146271726bf"><div class="ttname"><a href="classsh_1_1_canvas_subquery_text.html#a05bdc2a9095e9383a8e84146271726bf">sh::CanvasSubqueryText::operator!=</a></div><div class="ttdeci">bool operator!=(const CanvasSubqueryText &amp;b) const</div><div class="ttdef"><b>Definition:</b> query-types.h:299</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_text_html_a0eecd133950de8cab77882741e82e4f9"><div class="ttname"><a href="classsh_1_1_canvas_subquery_text.html#a0eecd133950de8cab77882741e82e4f9">sh::CanvasSubqueryText::query</a></div><div class="ttdeci">const TextualQuery &amp; query() const</div><div class="ttdef"><b>Definition:</b> query-types.h:285</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_text_html_a2ff2a5c1f82c26f346042165a8cfcc50"><div class="ttname"><a href="classsh_1_1_canvas_subquery_text.html#a2ff2a5c1f82c26f346042165a8cfcc50">sh::CanvasSubqueryText::operator&lt;&lt;</a></div><div class="ttdeci">friend std::ostream &amp; operator&lt;&lt;(std::ofstream &amp;os, CanvasSubqueryText x)</div><div class="ttdef"><b>Definition:</b> query-types.h:306</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_text_html_a43b808951d78d6e2c4071ae2457044af"><div class="ttname"><a href="classsh_1_1_canvas_subquery_text.html#a43b808951d78d6e2c4071ae2457044af">sh::CanvasSubqueryText::serialize</a></div><div class="ttdeci">void serialize(Archive &amp;archive)</div><div class="ttdef"><b>Definition:</b> query-types.h:295</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_text_html_aa1bfcebba4df8791d92fd5f7ab8f229b"><div class="ttname"><a href="classsh_1_1_canvas_subquery_text.html#aa1bfcebba4df8791d92fd5f7ab8f229b">sh::CanvasSubqueryText::CanvasSubqueryText</a></div><div class="ttdeci">CanvasSubqueryText(const RelativeRect &amp;rect, const TextualQuery &amp;query)</div><div class="ttdef"><b>Definition:</b> query-types.h:282</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_text_html_aae048ad52b0105216ab10e64066de571"><div class="ttname"><a href="classsh_1_1_canvas_subquery_text.html#aae048ad52b0105216ab10e64066de571">sh::CanvasSubqueryText::operator==</a></div><div class="ttdeci">bool operator==(const CanvasSubqueryText &amp;b) const</div><div class="ttdef"><b>Definition:</b> query-types.h:301</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_text_html_ab41f339a228b83c1c49a6cff25699397"><div class="ttname"><a href="classsh_1_1_canvas_subquery_text.html#ab41f339a228b83c1c49a6cff25699397">sh::CanvasSubqueryText::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> query-types.h:286</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_text_html_ad3b450b43dc9d8bedd080072d15b59bd"><div class="ttname"><a href="classsh_1_1_canvas_subquery_text.html#ad3b450b43dc9d8bedd080072d15b59bd">sh::CanvasSubqueryText::_text_query</a></div><div class="ttdeci">TextualQuery _text_query</div><div class="ttdef"><b>Definition:</b> query-types.h:278</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_text_html_af9844a35aefbff620840dac053a1e7b4"><div class="ttname"><a href="classsh_1_1_canvas_subquery_text.html#af9844a35aefbff620840dac053a1e7b4">sh::CanvasSubqueryText::CanvasSubqueryText</a></div><div class="ttdeci">CanvasSubqueryText()=default</div></div>
<div class="ttc" id="aclasssh_1_1_canvas_subquery_text_html_afe2c3552ea2d8e34b311e1d640a71cf2"><div class="ttname"><a href="classsh_1_1_canvas_subquery_text.html#afe2c3552ea2d8e34b311e1d640a71cf2">sh::CanvasSubqueryText::to_JSON</a></div><div class="ttdeci">nlohmann::json to_JSON() const</div><div class="ttdef"><b>Definition:</b> query-types.h:288</div></div>
<div class="ttc" id="aclasssh_1_1_week_days_filter_html"><div class="ttname"><a href="classsh_1_1_week_days_filter.html">sh::WeekDaysFilter</a></div><div class="ttdoc">Container for information about days filtering.</div><div class="ttdef"><b>Definition:</b> query-types.h:41</div></div>
<div class="ttc" id="aclasssh_1_1_week_days_filter_html_a0773f05a39c1f09fd0c31e395ec1abb9"><div class="ttname"><a href="classsh_1_1_week_days_filter.html#a0773f05a39c1f09fd0c31e395ec1abb9">sh::WeekDaysFilter::operator[]</a></div><div class="ttdeci">bool &amp; operator[](size_t i)</div><div class="ttdef"><b>Definition:</b> query-types.h:58</div></div>
<div class="ttc" id="aclasssh_1_1_week_days_filter_html_a1dc27fdf454be1eb81807a2d4133237c"><div class="ttname"><a href="classsh_1_1_week_days_filter.html#a1dc27fdf454be1eb81807a2d4133237c">sh::WeekDaysFilter::WeekDaysFilter</a></div><div class="ttdeci">WeekDaysFilter()</div><div class="ttdoc">Default state is all dayes.</div><div class="ttdef"><b>Definition:</b> query-types.h:46</div></div>
<div class="ttc" id="aclasssh_1_1_week_days_filter_html_a68c0ad799846b2aeec40a4e11d96fc40"><div class="ttname"><a href="classsh_1_1_week_days_filter.html#a68c0ad799846b2aeec40a4e11d96fc40">sh::WeekDaysFilter::serialize</a></div><div class="ttdeci">void serialize(Archive &amp;archive)</div><div class="ttdef"><b>Definition:</b> query-types.h:63</div></div>
<div class="ttc" id="aclasssh_1_1_week_days_filter_html_a7c82c8df0ba65ef8c1cb3a2575a1b300"><div class="ttname"><a href="classsh_1_1_week_days_filter.html#a7c82c8df0ba65ef8c1cb3a2575a1b300">sh::WeekDaysFilter::operator==</a></div><div class="ttdeci">bool operator==(const WeekDaysFilter &amp;other) const</div><div class="ttdef"><b>Definition:</b> query-types.h:60</div></div>
<div class="ttc" id="aclasssh_1_1_week_days_filter_html_a9d9c7a897eac7c134edaa0afa26cb64f"><div class="ttname"><a href="classsh_1_1_week_days_filter.html#a9d9c7a897eac7c134edaa0afa26cb64f">sh::WeekDaysFilter::_days</a></div><div class="ttdeci">std::array&lt; bool, 7 &gt; _days</div><div class="ttdef"><b>Definition:</b> query-types.h:42</div></div>
<div class="ttc" id="aclasssh_1_1_week_days_filter_html_ac8489ad92ba00c22cd59e6ec1b83111b"><div class="ttname"><a href="classsh_1_1_week_days_filter.html#ac8489ad92ba00c22cd59e6ec1b83111b">sh::WeekDaysFilter::WeekDaysFilter</a></div><div class="ttdeci">WeekDaysFilter(uint8_t mask)</div><div class="ttdoc">Construct from the bit mask.</div><div class="ttdef"><b>Definition:</b> query-types.h:49</div></div>
<div class="ttc" id="aclasssh_1_1_week_days_filter_html_af64b26886d68fb2c32d36ec0ffecc4a9"><div class="ttname"><a href="classsh_1_1_week_days_filter.html#af64b26886d68fb2c32d36ec0ffecc4a9">sh::WeekDaysFilter::operator[]</a></div><div class="ttdeci">const bool &amp; operator[](size_t i) const</div><div class="ttdef"><b>Definition:</b> query-types.h:56</div></div>
<div class="ttc" id="acommon_8h_html"><div class="ttname"><a href="common_8h.html">common.h</a></div></div>
<div class="ttc" id="adataset-frames_8h_html"><div class="ttname"><a href="dataset-frames_8h.html">dataset-frames.h</a></div></div>
<div class="ttc" id="anamespacesh_1_1utils_html_a2745d75a8be0fd8ea1e0bb9c25bfc1f6"><div class="ttname"><a href="namespacesh_1_1utils.html#a2745d75a8be0fd8ea1e0bb9c25bfc1f6">sh::utils::trim</a></div><div class="ttdeci">std::string trim(const std::string &amp;s)</div><div class="ttdoc">Trim.</div><div class="ttdef"><b>Definition:</b> utils.hpp:350</div></div>
<div class="ttc" id="anamespacesh_1_1utils_html_ad1920d2a3e627c0e19868fa6fce7697c"><div class="ttname"><a href="namespacesh_1_1utils.html#ad1920d2a3e627c0e19868fa6fce7697c">sh::utils::irand</a></div><div class="ttdeci">T_ irand(T_ from, T_ to)</div><div class="ttdoc">Returns a pseudorandom integral number sampled from the uniform distribution [from,...</div><div class="ttdef"><b>Definition:</b> utils.hpp:170</div></div>
<div class="ttc" id="anamespacesh_1_1utils_html_ae3d8c8e164023f2fd8388378460029aa"><div class="ttname"><a href="namespacesh_1_1utils.html#ae3d8c8e164023f2fd8388378460029aa">sh::utils::timestamp</a></div><div class="ttdeci">int64_t timestamp()</div><div class="ttdoc">Returns the actual UNIX timestamp (ms).</div><div class="ttdef"><b>Definition:</b> utils.hpp:87</div></div>
<div class="ttc" id="anamespacesh_1_1utils_html_af68c9baecb415e29dedfa68cd4d4f801"><div class="ttname"><a href="namespacesh_1_1utils.html#af68c9baecb415e29dedfa68cd4d4f801">sh::utils::is_set</a></div><div class="ttdeci">bool is_set(T_ mask, size_t i)</div><div class="ttdoc">Tests whether the i-th lowest significant bit is set.</div><div class="ttdef"><b>Definition:</b> utils.hpp:221</div></div>
<div class="ttc" id="anamespacesh_html"><div class="ttname"><a href="namespacesh.html">sh</a></div><div class="ttdef"><b>Definition:</b> common-types.h:33</div></div>
<div class="ttc" id="anamespacesh_html_a1f69a0e0a4bc90f7f8afcfa3a9b440a7"><div class="ttname"><a href="namespacesh.html#a1f69a0e0a4bc90f7f8afcfa3a9b440a7">sh::BenchmarkQuery</a></div><div class="ttdeci">std::variant&lt; PlainTextBenchmarkQuery &gt; BenchmarkQuery</div><div class="ttdef"><b>Definition:</b> query-types.h:628</div></div>
<div class="ttc" id="anamespacesh_html_a2fb95a2caac24324ee12253695d8a522"><div class="ttname"><a href="namespacesh.html#a2fb95a2caac24324ee12253695d8a522">sh::operator&lt;&lt;</a></div><div class="ttdeci">std::ostream &amp; operator&lt;&lt;(std::ofstream &amp;os, CanvasSubqueryBitmap x)</div><div class="ttdef"><b>Definition:</b> query-types.h:261</div></div>
<div class="ttc" id="anamespacesh_html_a50ce6616d289484c04d54b1b58a48cb1"><div class="ttname"><a href="namespacesh.html#a50ce6616d289484c04d54b1b58a48cb1">sh::Hour</a></div><div class="ttdeci">uint8_t Hour</div><div class="ttdef"><b>Definition:</b> common-types.h:243</div></div>
<div class="ttc" id="anamespacesh_html_a55ccd7c7b6858c4d674bb5f054f55345"><div class="ttname"><a href="namespacesh.html#a55ccd7c7b6858c4d674bb5f054f55345">sh::RelocationQuery</a></div><div class="ttdeci">FrameId RelocationQuery</div><div class="ttdef"><b>Definition:</b> query-types.h:157</div></div>
<div class="ttc" id="anamespacesh_html_a62363c9c7b2b9abb74f2e9d14f37d71b"><div class="ttname"><a href="namespacesh.html#a62363c9c7b2b9abb74f2e9d14f37d71b">sh::Year</a></div><div class="ttdeci">uint16_t Year</div><div class="ttdef"><b>Definition:</b> common-types.h:244</div></div>
<div class="ttc" id="anamespacesh_html_a6a19838b66e6e1aaaaba6ece7dc674f0"><div class="ttname"><a href="namespacesh.html#a6a19838b66e6e1aaaaba6ece7dc674f0">sh::ERR_VAL</a></div><div class="ttdeci">constexpr T_ ERR_VAL()</div><div class="ttdoc">Value indicating error/invalid/&quot;NULL&quot; value for the given type.</div><div class="ttdef"><b>Definition:</b> common-types.h:98</div></div>
<div class="ttc" id="anamespacesh_html_a7f93ac83441381bd7dfa2e01ba67ba52"><div class="ttname"><a href="namespacesh.html#a7f93ac83441381bd7dfa2e01ba67ba52">sh::LikesCont</a></div><div class="ttdeci">std::set&lt; FrameId &gt; LikesCont</div><div class="ttdef"><b>Definition:</b> common-types.h:86</div></div>
<div class="ttc" id="anamespacesh_html_aa45f67c730dfeb41be23f84ab2e7d610"><div class="ttname"><a href="namespacesh.html#aa45f67c730dfeb41be23f84ab2e7d610">sh::TextualQuery</a></div><div class="ttdeci">std::string TextualQuery</div><div class="ttdef"><b>Definition:</b> query-types.h:155</div></div>
<div class="ttc" id="anamespacesh_html_aac4825713594a520bf3457b6db688ccc"><div class="ttname"><a href="namespacesh.html#aac4825713594a520bf3457b6db688ccc">sh::RelevanceFeedbackQuery</a></div><div class="ttdeci">LikesCont RelevanceFeedbackQuery</div><div class="ttdef"><b>Definition:</b> query-types.h:153</div></div>
<div class="ttc" id="anamespacesh_html_aec64f5ed667b9123fa0f65cea82b0d95"><div class="ttname"><a href="namespacesh.html#aec64f5ed667b9123fa0f65cea82b0d95">sh::CanvasSubquery</a></div><div class="ttdeci">std::variant&lt; CanvasSubqueryBitmap, CanvasSubqueryText &gt; CanvasSubquery</div><div class="ttdef"><b>Definition:</b> query-types.h:320</div></div>
<div class="ttc" id="anamespacesh_html_afc709d69056aeb5c2549b4437b56aaf1"><div class="ttname"><a href="namespacesh.html#afc709d69056aeb5c2549b4437b56aaf1">sh::FrameId</a></div><div class="ttdeci">unsigned long FrameId</div><div class="ttdef"><b>Definition:</b> common-types.h:75</div></div>
<div class="ttc" id="astatic-logger_8hpp_html_a0d63814b32f961416f056a84ffb05b34"><div class="ttname"><a href="static-logger_8hpp.html#a0d63814b32f961416f056a84ffb05b34">do_assert_debug</a></div><div class="ttdeci">#define do_assert_debug(assertion, msg)</div><div class="ttdoc">Assert execuded only if RUN_ASSERTS is true.</div><div class="ttdef"><b>Definition:</b> static-logger.hpp:225</div></div>
<div class="ttc" id="astatic-logger_8hpp_html_a1cc8c9c0fad03dc2462abdacd06fb4b5"><div class="ttname"><a href="static-logger_8hpp.html#a1cc8c9c0fad03dc2462abdacd06fb4b5">do_assert</a></div><div class="ttdeci">#define do_assert(assertion, msg)</div><div class="ttdoc">Assert execuded at all times.</div><div class="ttdef"><b>Definition:</b> static-logger.hpp:210</div></div>
<div class="ttc" id="astructoverloaded_html"><div class="ttname"><a href="structoverloaded.html">overloaded</a></div><div class="ttdef"><b>Definition:</b> common.h:48</div></div>
<div class="ttc" id="astructsh_1_1_base_benchmark_query_html"><div class="ttname"><a href="structsh_1_1_base_benchmark_query.html">sh::BaseBenchmarkQuery</a></div><div class="ttdef"><b>Definition:</b> query-types.h:616</div></div>
<div class="ttc" id="astructsh_1_1_base_benchmark_query_html_a9cd90301e86fbccf52e9a66f292f9933"><div class="ttname"><a href="structsh_1_1_base_benchmark_query.html#a9cd90301e86fbccf52e9a66f292f9933">sh::BaseBenchmarkQuery::targets</a></div><div class="ttdeci">std::vector&lt; FrameId &gt; targets</div><div class="ttdef"><b>Definition:</b> query-types.h:617</div></div>
<div class="ttc" id="astructsh_1_1_canvas_benchmark_query_html"><div class="ttname"><a href="structsh_1_1_canvas_benchmark_query.html">sh::CanvasBenchmarkQuery</a></div><div class="ttdef"><b>Definition:</b> query-types.h:624</div></div>
<div class="ttc" id="astructsh_1_1_canvas_benchmark_query_html_a7cb672371ddd839fc92035cbf468f4da"><div class="ttname"><a href="structsh_1_1_canvas_benchmark_query.html#a7cb672371ddd839fc92035cbf468f4da">sh::CanvasBenchmarkQuery::canvas_query</a></div><div class="ttdeci">std::vector&lt; CanvasQuery &gt; canvas_query</div><div class="ttdef"><b>Definition:</b> query-types.h:625</div></div>
<div class="ttc" id="astructsh_1_1_filters_html"><div class="ttname"><a href="structsh_1_1_filters.html">sh::Filters</a></div><div class="ttdoc">Container for all the available filters for the rescore.</div><div class="ttdef"><b>Definition:</b> query-types.h:103</div></div>
<div class="ttc" id="astructsh_1_1_filters_html_a02dca236fbc88214c4869b86222a8945"><div class="ttname"><a href="structsh_1_1_filters.html#a02dca236fbc88214c4869b86222a8945">sh::Filters::get_dataset_parts_valid_interval</a></div><div class="ttdeci">std::pair&lt; FrameId, FrameId &gt; get_dataset_parts_valid_interval(std::size_t num_total_frames) const</div><div class="ttdoc">Based on dataset_parts it returns the allowed frame IDs.</div><div class="ttdef"><b>Definition:</b> query-types.h:122</div></div>
<div class="ttc" id="astructsh_1_1_filters_html_a0c09d130dac31de44b942295782e8cdb"><div class="ttname"><a href="structsh_1_1_filters.html#a0c09d130dac31de44b942295782e8cdb">sh::Filters::serialize</a></div><div class="ttdeci">void serialize(Archive &amp;archive)</div><div class="ttdef"><b>Definition:</b> query-types.h:135</div></div>
<div class="ttc" id="astructsh_1_1_filters_html_a22d41530020befaadb8a810f86ef8f65"><div class="ttname"><a href="structsh_1_1_filters.html#a22d41530020befaadb8a810f86ef8f65">sh::Filters::days</a></div><div class="ttdeci">WeekDaysFilter days</div><div class="ttdef"><b>Definition:</b> query-types.h:106</div></div>
<div class="ttc" id="astructsh_1_1_filters_html_a4aa27ec51ee7f8f3d676c0031c68d7a5"><div class="ttname"><a href="structsh_1_1_filters.html#a4aa27ec51ee7f8f3d676c0031c68d7a5">sh::Filters::operator!=</a></div><div class="ttdeci">bool operator!=(const Filters &amp;other) const</div><div class="ttdef"><b>Definition:</b> query-types.h:114</div></div>
<div class="ttc" id="astructsh_1_1_filters_html_a5a6ca0583723170057c659209d9e08ec"><div class="ttname"><a href="structsh_1_1_filters.html#a5a6ca0583723170057c659209d9e08ec">sh::Filters::is_default</a></div><div class="ttdeci">bool is_default() const</div><div class="ttdef"><b>Definition:</b> query-types.h:116</div></div>
<div class="ttc" id="astructsh_1_1_filters_html_a684a8b1333a21ad35037367252c50dc7"><div class="ttname"><a href="structsh_1_1_filters.html#a684a8b1333a21ad35037367252c50dc7">sh::Filters::dataset_parts</a></div><div class="ttdeci">std::vector&lt; bool &gt; dataset_parts</div><div class="ttdef"><b>Definition:</b> query-types.h:107</div></div>
<div class="ttc" id="astructsh_1_1_filters_html_acad740f0c3809bef51659e7aede08818"><div class="ttname"><a href="structsh_1_1_filters.html#acad740f0c3809bef51659e7aede08818">sh::Filters::years</a></div><div class="ttdeci">YearFilter years</div><div class="ttdef"><b>Definition:</b> query-types.h:105</div></div>
<div class="ttc" id="astructsh_1_1_filters_html_ad4449409bcdccc5768d24944ec24a960"><div class="ttname"><a href="structsh_1_1_filters.html#ad4449409bcdccc5768d24944ec24a960">sh::Filters::time</a></div><div class="ttdeci">TimeFilter time</div><div class="ttdef"><b>Definition:</b> query-types.h:104</div></div>
<div class="ttc" id="astructsh_1_1_filters_html_ae9c361ed6b9c1e31b09b2d72f972fce8"><div class="ttname"><a href="structsh_1_1_filters.html#ae9c361ed6b9c1e31b09b2d72f972fce8">sh::Filters::operator==</a></div><div class="ttdeci">bool operator==(const Filters &amp;other) const</div><div class="ttdef"><b>Definition:</b> query-types.h:109</div></div>
<div class="ttc" id="astructsh_1_1_plain_text_benchmark_query_html"><div class="ttname"><a href="structsh_1_1_plain_text_benchmark_query.html">sh::PlainTextBenchmarkQuery</a></div><div class="ttdef"><b>Definition:</b> query-types.h:620</div></div>
<div class="ttc" id="astructsh_1_1_plain_text_benchmark_query_html_ab428c0081142bf74fa893aa544554a9d"><div class="ttname"><a href="structsh_1_1_plain_text_benchmark_query.html#ab428c0081142bf74fa893aa544554a9d">sh::PlainTextBenchmarkQuery::text_query</a></div><div class="ttdeci">std::vector&lt; TextualQuery &gt; text_query</div><div class="ttdef"><b>Definition:</b> query-types.h:621</div></div>
<div class="ttc" id="astructsh_1_1_query_html"><div class="ttname"><a href="structsh_1_1_query.html">sh::Query</a></div><div class="ttdoc">The type representing the whole query.</div><div class="ttdef"><b>Definition:</b> query-types.h:470</div></div>
<div class="ttc" id="astructsh_1_1_query_html_a0567cca3ee99a0148d2d7d154686fb13"><div class="ttname"><a href="structsh_1_1_query.html#a0567cca3ee99a0148d2d7d154686fb13">sh::Query::to_JSON</a></div><div class="ttdeci">nlohmann::json to_JSON() const</div><div class="ttdef"><b>Definition:</b> query-types.cpp:34</div></div>
<div class="ttc" id="astructsh_1_1_query_html_a22fc0a2142953fab33e4810158820ab0"><div class="ttname"><a href="structsh_1_1_query.html#a22fc0a2142953fab33e4810158820ab0">sh::Query::targets</a></div><div class="ttdeci">std::vector&lt; FrameId &gt; targets</div><div class="ttdef"><b>Definition:</b> query-types.h:610</div></div>
<div class="ttc" id="astructsh_1_1_query_html_a24f3e4157db265de46626d130667c4ad"><div class="ttname"><a href="structsh_1_1_query.html#a24f3e4157db265de46626d130667c4ad">sh::Query::serialize</a></div><div class="ttdeci">void serialize(Archive &amp;archive)</div><div class="ttdef"><b>Definition:</b> query-types.h:597</div></div>
<div class="ttc" id="astructsh_1_1_query_html_a39bdcfc017ef0f75b0cc8a03113ceeaf"><div class="ttname"><a href="structsh_1_1_query.html#a39bdcfc017ef0f75b0cc8a03113ceeaf">sh::Query::queries</a></div><div class="ttdeci">const std::vector&lt; TemporalQuery &gt; &amp; queries() const</div><div class="ttdef"><b>Definition:</b> query-types.h:511</div></div>
<div class="ttc" id="astructsh_1_1_query_html_a4603e770e7ea0a16b6c1847e08992474"><div class="ttname"><a href="structsh_1_1_query.html#a4603e770e7ea0a16b6c1847e08992474">sh::Query::set_targets</a></div><div class="ttdeci">void set_targets(const std::vector&lt; VideoFrame &gt; &amp;ts)</div><div class="ttdef"><b>Definition:</b> query-types.h:513</div></div>
<div class="ttc" id="astructsh_1_1_query_html_a5d80a71955ab22d8d45d439b99ae544e"><div class="ttname"><a href="structsh_1_1_query.html#a5d80a71955ab22d8d45d439b99ae544e">sh::Query::score_secondary</a></div><div class="ttdeci">void score_secondary(bool new_value)</div><div class="ttdef"><b>Definition:</b> query-types.h:493</div></div>
<div class="ttc" id="astructsh_1_1_query_html_a63b190b6bc56c2b1d9ae9dd03d0806a5"><div class="ttname"><a href="structsh_1_1_query.html#a63b190b6bc56c2b1d9ae9dd03d0806a5">sh::Query::is_temporal_text</a></div><div class="ttdeci">const bool is_temporal_text() const</div><div class="ttdef"><b>Definition:</b> query-types.h:502</div></div>
<div class="ttc" id="astructsh_1_1_query_html_a64356a1b61040c098b8f61ff4e448d07"><div class="ttname"><a href="structsh_1_1_query.html#a64356a1b61040c098b8f61ff4e448d07">sh::Query::relevance_feeedback</a></div><div class="ttdeci">RelevanceFeedbackQuery relevance_feeedback</div><div class="ttdef"><b>Definition:</b> query-types.h:608</div></div>
<div class="ttc" id="astructsh_1_1_query_html_a6cc77b2f2d071937780f036f2e72127d"><div class="ttname"><a href="structsh_1_1_query.html#a6cc77b2f2d071937780f036f2e72127d">sh::Query::filters</a></div><div class="ttdeci">Filters filters</div><div class="ttdef"><b>Definition:</b> query-types.h:607</div></div>
<div class="ttc" id="astructsh_1_1_query_html_a710b50d6429b4358cc111255eb88fd9a"><div class="ttname"><a href="structsh_1_1_query.html#a710b50d6429b4358cc111255eb88fd9a">sh::Query::transform_to_no_pos_queries</a></div><div class="ttdeci">void transform_to_no_pos_queries()</div><div class="ttdef"><b>Definition:</b> query-types.h:553</div></div>
<div class="ttc" id="astructsh_1_1_query_html_a7fe4ae559ec7670eb67892cdda95ae2c"><div class="ttname"><a href="structsh_1_1_query.html#a7fe4ae559ec7670eb67892cdda95ae2c">sh::Query::is_canvas</a></div><div class="ttdeci">const bool is_canvas() const</div><div class="ttdef"><b>Definition:</b> query-types.h:499</div></div>
<div class="ttc" id="astructsh_1_1_query_html_a8f8d0a017f81cdd99d0f54d84095af5c"><div class="ttname"><a href="structsh_1_1_query.html#a8f8d0a017f81cdd99d0f54d84095af5c">sh::Query::is_save</a></div><div class="ttdeci">bool is_save</div><div class="ttdef"><b>Definition:</b> query-types.h:612</div></div>
<div class="ttc" id="astructsh_1_1_query_html_a91e01dca690218e8baf2085f796ec9a7"><div class="ttname"><a href="structsh_1_1_query.html#a91e01dca690218e8baf2085f796ec9a7">sh::Query::is_text_canvas</a></div><div class="ttdeci">const bool is_text_canvas() const</div><div class="ttdef"><b>Definition:</b> query-types.h:501</div></div>
<div class="ttc" id="astructsh_1_1_query_html_a960bc44d0f20927a5b16884416f05df1"><div class="ttname"><a href="structsh_1_1_query.html#a960bc44d0f20927a5b16884416f05df1">sh::Query::get_plain_text_query</a></div><div class="ttdeci">std::string get_plain_text_query() const</div><div class="ttdef"><b>Definition:</b> query-types.h:520</div></div>
<div class="ttc" id="astructsh_1_1_query_html_a9efd271b5c773b85b93379d3106ce99d"><div class="ttname"><a href="structsh_1_1_query.html#a9efd271b5c773b85b93379d3106ce99d">sh::Query::empty</a></div><div class="ttdeci">const bool empty() const</div><div class="ttdef"><b>Definition:</b> query-types.h:504</div></div>
<div class="ttc" id="astructsh_1_1_query_html_ab765ee27846f974845ad39b2f3b4a3f9"><div class="ttname"><a href="structsh_1_1_query.html#ab765ee27846f974845ad39b2f3b4a3f9">sh::Query::is_bitmap_canvas</a></div><div class="ttdeci">const bool is_bitmap_canvas() const</div><div class="ttdef"><b>Definition:</b> query-types.h:500</div></div>
<div class="ttc" id="astructsh_1_1_query_html_abbc1499424da16ec3d4efe5921d1e631"><div class="ttname"><a href="structsh_1_1_query.html#abbc1499424da16ec3d4efe5921d1e631">sh::Query::temporal_queries</a></div><div class="ttdeci">std::vector&lt; TemporalQuery &gt; temporal_queries</div><div class="ttdef"><b>Definition:</b> query-types.h:609</div></div>
<div class="ttc" id="astructsh_1_1_query_html_ac9cf62939b2963a3ced74ab92fb9f1a4"><div class="ttname"><a href="structsh_1_1_query.html#ac9cf62939b2963a3ced74ab92fb9f1a4">sh::Query::metadata</a></div><div class="ttdeci">RescoreMetadata metadata</div><div class="ttdef"><b>Definition:</b> query-types.h:606</div></div>
<div class="ttc" id="astructsh_1_1_query_html_ad5ff0a61f0ca7081bc178af3186f9695"><div class="ttname"><a href="structsh_1_1_query.html#ad5ff0a61f0ca7081bc178af3186f9695">sh::Query::is_text</a></div><div class="ttdeci">const bool is_text() const</div><div class="ttdef"><b>Definition:</b> query-types.h:503</div></div>
<div class="ttc" id="astructsh_1_1_query_html_addf6bbb26911699ea6ae10a642a75c3a"><div class="ttname"><a href="structsh_1_1_query.html#addf6bbb26911699ea6ae10a642a75c3a">sh::Query::score_secondary</a></div><div class="ttdeci">const bool score_secondary() const</div><div class="ttdef"><b>Definition:</b> query-types.h:492</div></div>
<div class="ttc" id="astructsh_1_1_query_html_ae7c9aba946797845435d2830698715fe"><div class="ttname"><a href="structsh_1_1_query.html#ae7c9aba946797845435d2830698715fe">sh::Query::Query</a></div><div class="ttdeci">Query()=default</div></div>
<div class="ttc" id="astructsh_1_1_query_html_af277b7aa645868b8262b2b936cac6635"><div class="ttname"><a href="structsh_1_1_query.html#af277b7aa645868b8262b2b936cac6635">sh::Query::_score_secondary</a></div><div class="ttdeci">bool _score_secondary</div><div class="ttdef"><b>Definition:</b> query-types.h:613</div></div>
<div class="ttc" id="astructsh_1_1_query_html_af52c0669b4823e3da17a24b2d77ce2df"><div class="ttname"><a href="structsh_1_1_query.html#af52c0669b4823e3da17a24b2d77ce2df">sh::Query::Query</a></div><div class="ttdeci">Query(const std::vector&lt; QueryType &gt; &amp;temp_queries)</div><div class="ttdef"><b>Definition:</b> query-types.h:475</div></div>
<div class="ttc" id="astructsh_1_1_query_html_af72ae6052914737f96abcd027b9f8ff5"><div class="ttname"><a href="structsh_1_1_query.html#af72ae6052914737f96abcd027b9f8ff5">sh::Query::is_relocation</a></div><div class="ttdeci">const bool is_relocation() const</div><div class="ttdef"><b>Definition:</b> query-types.h:485</div></div>
<div class="ttc" id="astructsh_1_1_relative_rect_html"><div class="ttname"><a href="structsh_1_1_relative_rect.html">sh::RelativeRect</a></div><div class="ttdef"><b>Definition:</b> query-types.h:159</div></div>
<div class="ttc" id="astructsh_1_1_relative_rect_html_a03abb9a7cf63e5a5f6e7f247d365cba3"><div class="ttname"><a href="structsh_1_1_relative_rect.html#a03abb9a7cf63e5a5f6e7f247d365cba3">sh::RelativeRect::left</a></div><div class="ttdeci">float left</div><div class="ttdoc">Distances from the given edge (e.g.</div><div class="ttdef"><b>Definition:</b> query-types.h:161</div></div>
<div class="ttc" id="astructsh_1_1_relative_rect_html_a2f4e95890efb2d540a16be0c210af3d5"><div class="ttname"><a href="structsh_1_1_relative_rect.html#a2f4e95890efb2d540a16be0c210af3d5">sh::RelativeRect::operator==</a></div><div class="ttdeci">bool operator==(const RelativeRect &amp;b) const</div><div class="ttdef"><b>Definition:</b> query-types.h:186</div></div>
<div class="ttc" id="astructsh_1_1_relative_rect_html_a643e0e458abffe989406c3f083182ed6"><div class="ttname"><a href="structsh_1_1_relative_rect.html#a643e0e458abffe989406c3f083182ed6">sh::RelativeRect::width_norm</a></div><div class="ttdeci">float width_norm() const</div><div class="ttdef"><b>Definition:</b> query-types.h:171</div></div>
<div class="ttc" id="astructsh_1_1_relative_rect_html_aa826125ce33f26e07e938d3e01072030"><div class="ttname"><a href="structsh_1_1_relative_rect.html#aa826125ce33f26e07e938d3e01072030">sh::RelativeRect::height_norm</a></div><div class="ttdeci">float height_norm() const</div><div class="ttdef"><b>Definition:</b> query-types.h:176</div></div>
<div class="ttc" id="astructsh_1_1_relative_rect_html_abd4d481570bc6a7536ae4b60ebb8b7e1"><div class="ttname"><a href="structsh_1_1_relative_rect.html#abd4d481570bc6a7536ae4b60ebb8b7e1">sh::RelativeRect::serialize</a></div><div class="ttdeci">void serialize(Archive &amp;archive)</div><div class="ttdef"><b>Definition:</b> query-types.h:182</div></div>
<div class="ttc" id="astructsh_1_1_relative_rect_html_ada68af191ff2fb617ec766f1cd24f98f"><div class="ttname"><a href="structsh_1_1_relative_rect.html#ada68af191ff2fb617ec766f1cd24f98f">sh::RelativeRect::to_full</a></div><div class="ttdeci">void to_full()</div><div class="ttdoc">Set rectangle to cover everything.</div><div class="ttdef"><b>Definition:</b> query-types.h:164</div></div>
<div class="ttc" id="astructsh_1_1_relative_rect_html_ae0b64d6c7e93020866df163b5162329a"><div class="ttname"><a href="structsh_1_1_relative_rect.html#ae0b64d6c7e93020866df163b5162329a">sh::RelativeRect::top</a></div><div class="ttdeci">float top</div><div class="ttdef"><b>Definition:</b> query-types.h:161</div></div>
<div class="ttc" id="astructsh_1_1_relative_rect_html_ae936bbabafc47a3531ec34e1d3029326"><div class="ttname"><a href="structsh_1_1_relative_rect.html#ae936bbabafc47a3531ec34e1d3029326">sh::RelativeRect::bottom</a></div><div class="ttdeci">float bottom</div><div class="ttdef"><b>Definition:</b> query-types.h:161</div></div>
<div class="ttc" id="astructsh_1_1_relative_rect_html_ae9810ca79f990b749041768763d139d0"><div class="ttname"><a href="structsh_1_1_relative_rect.html#ae9810ca79f990b749041768763d139d0">sh::RelativeRect::right</a></div><div class="ttdeci">float right</div><div class="ttdef"><b>Definition:</b> query-types.h:161</div></div>
<div class="ttc" id="astructsh_1_1_rescore_metadata_html"><div class="ttname"><a href="structsh_1_1_rescore_metadata.html">sh::RescoreMetadata</a></div><div class="ttdef"><b>Definition:</b> query-types.h:140</div></div>
<div class="ttc" id="astructsh_1_1_rescore_metadata_html_a1d7e3e2c7741b6005c085653ff9f6427"><div class="ttname"><a href="structsh_1_1_rescore_metadata.html#a1d7e3e2c7741b6005c085653ff9f6427">sh::RescoreMetadata::_username</a></div><div class="ttdeci">std::string _username</div><div class="ttdef"><b>Definition:</b> query-types.h:141</div></div>
<div class="ttc" id="astructsh_1_1_rescore_metadata_html_a77cb91d17d474f6b1ab6c57dc1d27dbb"><div class="ttname"><a href="structsh_1_1_rescore_metadata.html#a77cb91d17d474f6b1ab6c57dc1d27dbb">sh::RescoreMetadata::srd_search_ctx_ID</a></div><div class="ttdeci">size_t srd_search_ctx_ID</div><div class="ttdef"><b>Definition:</b> query-types.h:143</div></div>
<div class="ttc" id="astructsh_1_1_rescore_metadata_html_a8ccfa410acc50617bb980bfbca5ff524"><div class="ttname"><a href="structsh_1_1_rescore_metadata.html#a8ccfa410acc50617bb980bfbca5ff524">sh::RescoreMetadata::time_label</a></div><div class="ttdeci">std::string time_label</div><div class="ttdef"><b>Definition:</b> query-types.h:144</div></div>
<div class="ttc" id="astructsh_1_1_rescore_metadata_html_ae3e6202c9fda681ed7d0421c12d9fd39"><div class="ttname"><a href="structsh_1_1_rescore_metadata.html#ae3e6202c9fda681ed7d0421c12d9fd39">sh::RescoreMetadata::screenshot_filepath</a></div><div class="ttdeci">std::string screenshot_filepath</div><div class="ttdef"><b>Definition:</b> query-types.h:142</div></div>
<div class="ttc" id="astructsh_1_1_rescore_metadata_html_aeb7d8e7c280e78150011eb0852d43ed8"><div class="ttname"><a href="structsh_1_1_rescore_metadata.html#aeb7d8e7c280e78150011eb0852d43ed8">sh::RescoreMetadata::serialize</a></div><div class="ttdeci">void serialize(Archive &amp;archive)</div><div class="ttdef"><b>Definition:</b> query-types.h:147</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html"><div class="ttname"><a href="structsh_1_1_temporal_query.html">sh::TemporalQuery</a></div><div class="ttdef"><b>Definition:</b> query-types.h:404</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_a007a2cce089e21cfb35ad0baf62044e0"><div class="ttname"><a href="structsh_1_1_temporal_query.html#a007a2cce089e21cfb35ad0baf62044e0">sh::TemporalQuery::is_text</a></div><div class="ttdeci">const bool is_text() const</div><div class="ttdef"><b>Definition:</b> query-types.h:418</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_a105e6b9e34f1f646d37ffba78a3bd654"><div class="ttname"><a href="structsh_1_1_temporal_query.html#a105e6b9e34f1f646d37ffba78a3bd654">sh::TemporalQuery::TemporalQuery</a></div><div class="ttdeci">TemporalQuery(TextualQuery tq, CanvasQuery cq, RelocationQuery rq)</div><div class="ttdef"><b>Definition:</b> query-types.h:411</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_a17ee5520c02fc7d1168aba2bd6b0eaa3"><div class="ttname"><a href="structsh_1_1_temporal_query.html#a17ee5520c02fc7d1168aba2bd6b0eaa3">sh::TemporalQuery::relocation</a></div><div class="ttdeci">RelocationQuery relocation</div><div class="ttdef"><b>Definition:</b> query-types.h:465</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_a3e725a9e1ebb4cb5cc22152392361811"><div class="ttname"><a href="structsh_1_1_temporal_query.html#a3e725a9e1ebb4cb5cc22152392361811">sh::TemporalQuery::canvas</a></div><div class="ttdeci">CanvasQuery canvas</div><div class="ttdef"><b>Definition:</b> query-types.h:464</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_a44813e07ef1d77d5de0b796d306664d7"><div class="ttname"><a href="structsh_1_1_temporal_query.html#a44813e07ef1d77d5de0b796d306664d7">sh::TemporalQuery::is_bitmap_canvas</a></div><div class="ttdeci">const bool is_bitmap_canvas() const</div><div class="ttdef"><b>Definition:</b> query-types.h:422</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_a546a2cd9405cbff7a93b1f5c05d2ffa0"><div class="ttname"><a href="structsh_1_1_temporal_query.html#a546a2cd9405cbff7a93b1f5c05d2ffa0">sh::TemporalQuery::serialize</a></div><div class="ttdeci">void serialize(Archive &amp;archive)</div><div class="ttdef"><b>Definition:</b> query-types.h:436</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_a57f88920723d9948afdc121d1dd45aac"><div class="ttname"><a href="structsh_1_1_temporal_query.html#a57f88920723d9948afdc121d1dd45aac">sh::TemporalQuery::score_secondary</a></div><div class="ttdeci">void score_secondary(bool new_value)</div><div class="ttdef"><b>Definition:</b> query-types.h:415</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_a5a0f39b784afe050efb6e868e6e8dcc5"><div class="ttname"><a href="structsh_1_1_temporal_query.html#a5a0f39b784afe050efb6e868e6e8dcc5">sh::TemporalQuery::is_text_canvas</a></div><div class="ttdeci">const bool is_text_canvas() const</div><div class="ttdef"><b>Definition:</b> query-types.h:428</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_a675384ba7b82552c88ed8e3a2c5086dd"><div class="ttname"><a href="structsh_1_1_temporal_query.html#a675384ba7b82552c88ed8e3a2c5086dd">sh::TemporalQuery::_score_secondary</a></div><div class="ttdeci">bool _score_secondary</div><div class="ttdef"><b>Definition:</b> query-types.h:466</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_a7ad15be378dc48fc43aacdb988b956bb"><div class="ttname"><a href="structsh_1_1_temporal_query.html#a7ad15be378dc48fc43aacdb988b956bb">sh::TemporalQuery::to_JSON</a></div><div class="ttdeci">nlohmann::json to_JSON() const</div><div class="ttdef"><b>Definition:</b> query-types.h:446</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_a8ae3e116eb6ccecc5f7247c7cdb84561"><div class="ttname"><a href="structsh_1_1_temporal_query.html#a8ae3e116eb6ccecc5f7247c7cdb84561">sh::TemporalQuery::is_relocation</a></div><div class="ttdeci">const bool is_relocation() const</div><div class="ttdef"><b>Definition:</b> query-types.h:416</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_a8ded6bcaa8e398e1b63ff539ad350880"><div class="ttname"><a href="structsh_1_1_temporal_query.html#a8ded6bcaa8e398e1b63ff539ad350880">sh::TemporalQuery::textual</a></div><div class="ttdeci">TextualQuery textual</div><div class="ttdef"><b>Definition:</b> query-types.h:463</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_a925bbb520c8c887b5264021b2ea1ed9e"><div class="ttname"><a href="structsh_1_1_temporal_query.html#a925bbb520c8c887b5264021b2ea1ed9e">sh::TemporalQuery::TemporalQuery</a></div><div class="ttdeci">TemporalQuery(CanvasQuery cq)</div><div class="ttdef"><b>Definition:</b> query-types.h:409</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_a938abcb8dae2703994608a80795dbd48"><div class="ttname"><a href="structsh_1_1_temporal_query.html#a938abcb8dae2703994608a80795dbd48">sh::TemporalQuery::TemporalQuery</a></div><div class="ttdeci">TemporalQuery(RelocationQuery rq)</div><div class="ttdef"><b>Definition:</b> query-types.h:410</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_a98134d05bec3818116d9391536a1d6ba"><div class="ttname"><a href="structsh_1_1_temporal_query.html#a98134d05bec3818116d9391536a1d6ba">sh::TemporalQuery::empty</a></div><div class="ttdeci">const bool empty() const</div><div class="ttdef"><b>Definition:</b> query-types.h:419</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_abe3d49ed73f60528153e60a237f38509"><div class="ttname"><a href="structsh_1_1_temporal_query.html#abe3d49ed73f60528153e60a237f38509">sh::TemporalQuery::operator==</a></div><div class="ttdeci">bool operator==(const TemporalQuery &amp;b) const</div><div class="ttdef"><b>Definition:</b> query-types.h:441</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_ae08614afcd3409c5f108ed6169557219"><div class="ttname"><a href="structsh_1_1_temporal_query.html#ae08614afcd3409c5f108ed6169557219">sh::TemporalQuery::score_secondary</a></div><div class="ttdeci">bool score_secondary() const</div><div class="ttdef"><b>Definition:</b> query-types.h:414</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_ae7205b76ac1c1cec865520a8521c0754"><div class="ttname"><a href="structsh_1_1_temporal_query.html#ae7205b76ac1c1cec865520a8521c0754">sh::TemporalQuery::is_canvas</a></div><div class="ttdeci">const bool is_canvas() const</div><div class="ttdef"><b>Definition:</b> query-types.h:417</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_aeb63eb0fdcec69a0eb834e165e70e508"><div class="ttname"><a href="structsh_1_1_temporal_query.html#aeb63eb0fdcec69a0eb834e165e70e508">sh::TemporalQuery::TemporalQuery</a></div><div class="ttdeci">TemporalQuery()</div><div class="ttdef"><b>Definition:</b> query-types.h:407</div></div>
<div class="ttc" id="astructsh_1_1_temporal_query_html_af23ec2545037f587c61221f7d8013881"><div class="ttname"><a href="structsh_1_1_temporal_query.html#af23ec2545037f587c61221f7d8013881">sh::TemporalQuery::TemporalQuery</a></div><div class="ttdeci">TemporalQuery(TextualQuery tq)</div><div class="ttdef"><b>Definition:</b> query-types.h:408</div></div>
<div class="ttc" id="astructsh_1_1_time_filter_html"><div class="ttname"><a href="structsh_1_1_time_filter.html">sh::TimeFilter</a></div><div class="ttdoc">Container for information about time filtering.</div><div class="ttdef"><b>Definition:</b> query-types.h:69</div></div>
<div class="ttc" id="astructsh_1_1_time_filter_html_a1f3728e4fbc7c5e7305ad51de3cae7ec"><div class="ttname"><a href="structsh_1_1_time_filter.html#a1f3728e4fbc7c5e7305ad51de3cae7ec">sh::TimeFilter::to</a></div><div class="ttdeci">Hour to</div><div class="ttdef"><b>Definition:</b> query-types.h:71</div></div>
<div class="ttc" id="astructsh_1_1_time_filter_html_a3af82e65705037db3bfe83d8fe3c360a"><div class="ttname"><a href="structsh_1_1_time_filter.html#a3af82e65705037db3bfe83d8fe3c360a">sh::TimeFilter::from</a></div><div class="ttdeci">Hour from</div><div class="ttdef"><b>Definition:</b> query-types.h:70</div></div>
<div class="ttc" id="astructsh_1_1_time_filter_html_a8c78dadbef5564bdbd8d0a9ac27b2e0c"><div class="ttname"><a href="structsh_1_1_time_filter.html#a8c78dadbef5564bdbd8d0a9ac27b2e0c">sh::TimeFilter::TimeFilter</a></div><div class="ttdeci">TimeFilter(Hour from, Hour to)</div><div class="ttdef"><b>Definition:</b> query-types.h:75</div></div>
<div class="ttc" id="astructsh_1_1_time_filter_html_a95428dd989b26edc6a3cdf2a54c6e1e3"><div class="ttname"><a href="structsh_1_1_time_filter.html#a95428dd989b26edc6a3cdf2a54c6e1e3">sh::TimeFilter::serialize</a></div><div class="ttdeci">void serialize(Archive &amp;archive)</div><div class="ttdef"><b>Definition:</b> query-types.h:80</div></div>
<div class="ttc" id="astructsh_1_1_time_filter_html_ad1ae1baeebe08e53140e989dcafb7af5"><div class="ttname"><a href="structsh_1_1_time_filter.html#ad1ae1baeebe08e53140e989dcafb7af5">sh::TimeFilter::TimeFilter</a></div><div class="ttdeci">TimeFilter()</div><div class="ttdoc">Default state is the whole day.</div><div class="ttdef"><b>Definition:</b> query-types.h:74</div></div>
<div class="ttc" id="astructsh_1_1_time_filter_html_af3c6beef3d481fda571c355b638a9855"><div class="ttname"><a href="structsh_1_1_time_filter.html#af3c6beef3d481fda571c355b638a9855">sh::TimeFilter::operator==</a></div><div class="ttdeci">bool operator==(const TimeFilter &amp;other) const</div><div class="ttdef"><b>Definition:</b> query-types.h:77</div></div>
<div class="ttc" id="astructsh_1_1_year_filter_html"><div class="ttname"><a href="structsh_1_1_year_filter.html">sh::YearFilter</a></div><div class="ttdoc">Container for information about time filtering.</div><div class="ttdef"><b>Definition:</b> query-types.h:86</div></div>
<div class="ttc" id="astructsh_1_1_year_filter_html_a41ebf2b02e05c4404f263b28e0c53d3e"><div class="ttname"><a href="structsh_1_1_year_filter.html#a41ebf2b02e05c4404f263b28e0c53d3e">sh::YearFilter::YearFilter</a></div><div class="ttdeci">YearFilter()</div><div class="ttdoc">Default state is interval [2000, 2021].</div><div class="ttdef"><b>Definition:</b> query-types.h:91</div></div>
<div class="ttc" id="astructsh_1_1_year_filter_html_a46f0107698f83d0162b4bf811427dc26"><div class="ttname"><a href="structsh_1_1_year_filter.html#a46f0107698f83d0162b4bf811427dc26">sh::YearFilter::operator==</a></div><div class="ttdeci">bool operator==(const YearFilter &amp;other) const</div><div class="ttdef"><b>Definition:</b> query-types.h:94</div></div>
<div class="ttc" id="astructsh_1_1_year_filter_html_a4a3bb321a1c543a6702cb96a361a3e23"><div class="ttname"><a href="structsh_1_1_year_filter.html#a4a3bb321a1c543a6702cb96a361a3e23">sh::YearFilter::serialize</a></div><div class="ttdeci">void serialize(Archive &amp;archive)</div><div class="ttdef"><b>Definition:</b> query-types.h:97</div></div>
<div class="ttc" id="astructsh_1_1_year_filter_html_a4f2ce71cb64225223ebe7570058db071"><div class="ttname"><a href="structsh_1_1_year_filter.html#a4f2ce71cb64225223ebe7570058db071">sh::YearFilter::from</a></div><div class="ttdeci">Year from</div><div class="ttdef"><b>Definition:</b> query-types.h:87</div></div>
<div class="ttc" id="astructsh_1_1_year_filter_html_a9a5f07dec4bf31d6b99ef9e5bc451f10"><div class="ttname"><a href="structsh_1_1_year_filter.html#a9a5f07dec4bf31d6b99ef9e5bc451f10">sh::YearFilter::to</a></div><div class="ttdeci">Year to</div><div class="ttdef"><b>Definition:</b> query-types.h:88</div></div>
<div class="ttc" id="astructsh_1_1_year_filter_html_ade8ef6771ba3283a090e5de5b11ad800"><div class="ttname"><a href="structsh_1_1_year_filter.html#ade8ef6771ba3283a090e5de5b11ad800">sh::YearFilter::YearFilter</a></div><div class="ttdeci">YearFilter(Year from, Year to)</div><div class="ttdef"><b>Definition:</b> query-types.h:92</div></div>
<div class="ttc" id="autils_8hpp_html"><div class="ttname"><a href="utils_8hpp.html">utils.hpp</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_cbaf2f19bfda0c28ea5a0cb4e99e0b36.html">somhunter</a></li><li class="navelem"><a class="el" href="query-types_8h.html">query-types.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
