<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SOMHunter Core: src/somhunter/somhunter.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom-styles.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SOMHunter Core
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('somhunter_8h_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">somhunter.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="somhunter_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* This file is part of SOMHunter.</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * Copyright (C) 2021 Frantisek Mejzlik &lt;frankmejzlik@protonmail.com&gt;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *                    Mirek Kratochvil &lt;exa.exa@gmail.com&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *                    Patrik Vesely &lt;prtrikvesely@gmail.com&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * SOMHunter is free software: you can redistribute it and/or modify it under</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * the terms of the GNU General Public License as published by the Free</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * Software Foundation, either version 2 of the License, or (at your option)</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * any later version.</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * SOMHunter is distributed in the hope that it will be useful, but WITHOUT ANY</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * details.</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> * You should have received a copy of the GNU General Public License along with</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * SOMHunter. If not, see &lt;https://www.gnu.org/licenses/&gt;.</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#ifndef SOMHUNTER_H_</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#define SOMHUNTER_H_</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160; </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;cstddef&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="comment">// ---</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="async-som_8h.html">async-som.h</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="canvas-query-ranker_8h.html">canvas-query-ranker.h</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="common_8h.html">common.h</a>&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dataset-features_8h.html">dataset-features.h</a>&quot;</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="dataset-frames_8h.html">dataset-frames.h</a>&quot;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="image-processor_8h.html">image-processor.h</a>&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="keyword-clip-ranker_8h.html">keyword-clip-ranker.h</a>&quot;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="keyword-ranker_8h.html">keyword-ranker.h</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="logger_8h.html">logger.h</a>&quot;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="query-types_8h.html">query-types.h</a>&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="relocation-ranker_8h.html">relocation-ranker.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="scores_8h.html">scores.h</a>&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="search-context_8h.html">search-context.h</a>&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="task-target-helper_8h.html">task-target-helper.h</a>&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="user-context_8h.html">user-context.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="utils_8hpp.html">utils.hpp</a>&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacesh.html">sh</a> {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html">   54</a></span>&#160;<span class="keyword">class </span><a class="code" href="classsh_1_1_somhunter.html">Somhunter</a> {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#a30658266ba3eed71096e176d3c78fc8e">   56</a></span>&#160;    <a class="code" href="classsh_1_1_somhunter.html#a30658266ba3eed71096e176d3c78fc8e">Somhunter</a>() = <span class="keyword">delete</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="classsh_1_1_somhunter.html#a30658266ba3eed71096e176d3c78fc8e">Somhunter</a>(<span class="keyword">const</span> std::string&amp; config_filepath);</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160; </div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// ---</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160; </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="structsh_1_1_get_display_result.html">GetDisplayResult</a> <a class="code" href="classsh_1_1_somhunter.html#af3baf9dff6c4a7a8f74f90f2f6ef061e">get_display</a>(<a class="code" href="namespacesh.html#aaa5923994cc0a8bf094ee0cb77d810f2">DisplayType</a> d_type, <a class="code" href="namespacesh.html#afc709d69056aeb5c2549b4437b56aaf1">FrameId</a> selected_image = 0, <a class="code" href="namespacesh.html#a25338a82411511a7536f78ecfbbe15cb">PageId</a> page = 0, <span class="keywordtype">bool</span> log_it = <span class="keyword">true</span>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160; </div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    std::vector&lt;bool&gt; <a class="code" href="classsh_1_1_somhunter.html#a0cf4e0ec9d180fa54b8911d0adf3b24b">like_frames</a>(<span class="keyword">const</span> std::vector&lt;FrameId&gt;&amp; new_likes);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    std::vector&lt;bool&gt; <a class="code" href="classsh_1_1_somhunter.html#af9fa7a338e5698aa257f05c217bcfbf2">bookmark_frames</a>(<span class="keyword">const</span> std::vector&lt;FrameId&gt;&amp; new_bookmarks);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    std::vector&lt;const Keyword*&gt; <a class="code" href="classsh_1_1_somhunter.html#a1724291050b729a6fa4dcd294315064a">autocomplete_keywords</a>(<span class="keyword">const</span> std::string&amp; prefix, <span class="keywordtype">size_t</span> count = 5) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160; </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="structsh_1_1_rescore_result.html">RescoreResult</a> <a class="code" href="classsh_1_1_somhunter.html#a653159d1bedd70454454de3213dd1273">rescore</a>(<a class="code" href="structsh_1_1_query.html">Query</a>&amp; query, <span class="keywordtype">bool</span> benchmark_run = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keyword">const</span> <a class="code" href="classsh_1_1_user_context.html">UserContext</a>&amp; <a class="code" href="classsh_1_1_somhunter.html#a67d355b17c266c519d67fc354f62014a">switch_search_context</a>(<span class="keywordtype">size_t</span> index, <span class="keywordtype">size_t</span> src_search_ctx_ID = <a class="code" href="common-types_8h.html#a8f701a02fe9a5dae7f259eb13274aa77">SIZE_T_ERR_VAL</a>,</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                                             <span class="keyword">const</span> std::string&amp; screenshot_fpth = <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">const</span> std::string&amp; label = <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keyword">const</span> <a class="code" href="structsh_1_1_search_context.html">SearchContext</a>&amp; <a class="code" href="classsh_1_1_somhunter.html#ab4bea33203854246a38ed3143cc1c650">get_search_context</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160; </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keyword">const</span> <a class="code" href="classsh_1_1_user_context.html">UserContext</a>&amp; <a class="code" href="classsh_1_1_somhunter.html#a83c6b1ab026ebc989c1faeabac1c0cfb">get_user_context</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160; </div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keyword">const</span> <a class="code" href="structsh_1_1_video_frame.html">VideoFrame</a>&amp; <a class="code" href="classsh_1_1_somhunter.html#a59e8d942a54fc151641018f45fb913d8">get_frame</a>(<a class="code" href="namespacesh.html#afc709d69056aeb5c2549b4437b56aaf1">FrameId</a> ID) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160; </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <a class="code" href="structsh_1_1_frame_range.html">FrameRange</a> <a class="code" href="classsh_1_1_somhunter.html#a40d486ed33cfa7f1b3c8b9bd69136017">get_frames</a>(<a class="code" href="namespacesh.html#a07838d5ca4e76cffb17f58b0e9b0a87b">VideoId</a> video_ID, <a class="code" href="namespacesh.html#a725c6423600b95f1598d2b59dfce0fa9">FrameNum</a> fr, <a class="code" href="namespacesh.html#a725c6423600b95f1598d2b59dfce0fa9">FrameNum</a> to) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <a class="code" href="structsh_1_1_video_frame.html">VideoFramePointer</a> <a class="code" href="classsh_1_1_somhunter.html#a5d90b159998dfd35a9fae50a608b5b0f">get_frame_ptr</a>(<a class="code" href="namespacesh.html#afc709d69056aeb5c2549b4437b56aaf1">FrameId</a> img) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classsh_1_1_somhunter.html#a675a8c077612bf99aefe2be6998eb88b">som_ready</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classsh_1_1_somhunter.html#a675a8c077612bf99aefe2be6998eb88b">som_ready</a>(<span class="keywordtype">size_t</span> temp_id) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160; </div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a42789b71a1a9e1504e542473b782ab6b">reset_search_session</a>();</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// ********************************</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">// Remote server related calls</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">// ********************************</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160; </div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classsh_1_1_somhunter.html#a6dd0251edf45f4ca67c90e3ca05ecf23">login_to_eval_server</a>();</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classsh_1_1_somhunter.html#a380e57794f4a538b1afb753ae71bb84f">logout_from_eval_server</a>();</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="namespacesh.html#adda4bd5fe5f948c6b9e92399bbedbd54">SubmitResult</a> <a class="code" href="classsh_1_1_somhunter.html#a32aa83662d31e8cb987a98c213dba56f">submit_to_eval_server</a>(<a class="code" href="namespacesh.html#afc709d69056aeb5c2549b4437b56aaf1">FrameId</a> frame_id);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160; </div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    <span class="comment">// ********************************</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="comment">// Logging calls</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">// ********************************</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">     * Log events that need to be triggered from the outside (e.g. the UI).</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a6a274dc543a0a81fc662dbc852ee7223">log_video_replay</a>(<a class="code" href="namespacesh.html#afc709d69056aeb5c2549b4437b56aaf1">FrameId</a> frame_ID, <span class="keywordtype">float</span> delta_X);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a271ae1a2b1eb6862b6d0630f191bd92e">log_scroll</a>(<a class="code" href="namespacesh.html#aaa5923994cc0a8bf094ee0cb77d810f2">DisplayType</a> t, <span class="keywordtype">float</span> delta_Y);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a540c053a4258b6e378014adbe0fc85f0">log_text_query_change</a>(<span class="keyword">const</span> std::string&amp; text_query);</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a25acff9d57bb3b5de500f0a14461d0d5">log_canvas_query_change</a>();</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160; </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">// ********************************</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment">// Image manipulation utilites</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <span class="comment">// ********************************</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    std::string <a class="code" href="classsh_1_1_somhunter.html#abb3ca897d1378ad5dc5ba32c45bb0072">store_rescore_screenshot</a>(<span class="keyword">const</span> std::string&amp; filepath);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160; </div>
<div class="line"><a name="l00150"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#a0040c7a25365e47606bd581bb05bc04f">  150</a></span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classsh_1_1_somhunter.html#a0040c7a25365e47606bd581bb05bc04f">get_num_frames</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_somhunter.html#a3cca59fc5f5126ad5fc741ab236fa229">_dataset_frames</a>.<a class="code" href="classsh_1_1_dataset_frames.html#a8c8fd017c9b8ac9c8490bce4734eb1bd">size</a>(); }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keyword">const</span> std::vector&lt;FrameId&gt;&amp; <a class="code" href="classsh_1_1_somhunter.html#adb7fb5713277723eabefeffb8ac0b0c1">get_top_scored</a>(<span class="keywordtype">size_t</span> max_count = 0, <span class="keywordtype">size_t</span> from_video = 0, <span class="keywordtype">size_t</span> from_shot = 0) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    std::vector&lt;VideoFramePointer&gt; <a class="code" href="classsh_1_1_somhunter.html#a76f07ed78a3f041b9bd098d3736012d4">get_top_scored_frames</a>(<span class="keywordtype">size_t</span> max_count = 0, <span class="keywordtype">size_t</span> from_video = 0,</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                                                         <span class="keywordtype">size_t</span> from_shot = 0) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    std::vector&lt;float&gt; <a class="code" href="classsh_1_1_somhunter.html#a6f6beedaaa83a847a39c39ef764dfa37">get_top_scored_scores</a>(std::vector&lt;FrameId&gt;&amp; top_scored_frames) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="classsh_1_1_somhunter.html#a8103ecddb86bbe16ab52cc7a1512f69e">find_targets</a>(<span class="keyword">const</span> std::vector&lt;FrameId&gt;&amp; top_scored, <span class="keyword">const</span> std::vector&lt;FrameId&gt;&amp; targets) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="comment">// ********************************</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="comment">// Other</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">// ********************************</span></div>
<div class="line"><a name="l00160"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#ad9b7a0aebe829ff0c45be4b6dcebfca6">  160</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="structsh_1_1_settings.html">Settings</a>&amp; <a class="code" href="classsh_1_1_somhunter.html#ad9b7a0aebe829ff0c45be4b6dcebfca6">settings</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_somhunter.html#a6782b6df927bf655fd9683643e74292e">_settings</a>; }</div>
<div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#ab9ce803d922e019d89ab4f65f0bc763e">  161</a></span>&#160;    <span class="keyword">const</span> std::string&amp; <a class="code" href="classsh_1_1_somhunter.html#ab9ce803d922e019d89ab4f65f0bc763e">get_config_filepath</a>() { <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_somhunter.html#ad462a4ff672deab73cc6f309ec249acf">_core_settings_filepath</a>; }</div>
<div class="line"><a name="l00162"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#abcf1e1a1a0d3e45cfbe12f95ba280c2e">  162</a></span>&#160;    <span class="keyword">const</span> std::string&amp; <a class="code" href="classsh_1_1_somhunter.html#abcf1e1a1a0d3e45cfbe12f95ba280c2e">get_API_config_filepath</a>() { <span class="keywordflow">return</span> <a class="code" href="classsh_1_1_somhunter.html#ab0332f100bd193a5404ed3643fdc751f">_API_settings_filepath</a>; }</div>
<div class="line"><a name="l00163"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#ae2d6276e66c227d5f20c62d1c59d5450">  163</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classsh_1_1_keyword_ranker.html">KeywordRanker</a>* <a class="code" href="classsh_1_1_somhunter.html#ae2d6276e66c227d5f20c62d1c59d5450">textual_model</a>() { <span class="keywordflow">return</span> &amp;<a class="code" href="classsh_1_1_somhunter.html#aadbf11acb5ca422283e2732ca9146cd3">_keyword_ranker</a>; };</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a9e04b38ac4fa58799c8b77146b195af4">benchmark_native_text_queries</a>(<span class="keyword">const</span> std::string&amp; queries_filepath, <span class="keyword">const</span> std::string&amp; out_dir);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a00d36e812ffb981eee3407c8d2612cdc">benchmark_canvas_queries</a>(<span class="keyword">const</span> std::string&amp; queries_dir, <span class="keyword">const</span> std::string&amp; out_dir);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a09bf5335e531913a41672b589e337f45">benchmark_real_queries</a>(<span class="keyword">const</span> std::string&amp; queries_dir, <span class="keyword">const</span> std::string&amp; targets_fpth,</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                                <span class="keyword">const</span> std::string&amp; out_dir);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a1f18bd321d4cc54feb694070906df0d5">generate_example_images_for_keywords</a>();</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160; </div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#ab8d7ab5ade0a468bfc49607c9f061381">write_resultset</a>(<span class="keyword">const</span> std::string&amp; file, <span class="keyword">const</span> std::vector&lt;VideoFramePointer&gt;&amp; results);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a251acc45f657013f0306f99e053396e5">write_query</a>(<span class="keyword">const</span> std::string&amp; file, <span class="keyword">const</span> <a class="code" href="structsh_1_1_query.html">Query</a>&amp; q);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a6151f28f7d401ec2413411bcde803990">write_query_info</a>(<span class="keyword">const</span> std::string&amp; file, <span class="keyword">const</span> std::string&amp; ID, <span class="keyword">const</span> std::string&amp; user,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                                 <span class="keyword">const</span> std::tuple&lt;VideoId, FrameId, FrameId&gt;&amp; target, std::size_t pos_vid,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                 std::size_t pos_fr, std::size_t unpos_vid, std::size_t unpos_fr);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a03ade07827b065497aac607074f018b5">run_basic_test</a>();</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#accc6d49519a1591bc69dfc8903def135">run_generators</a>();</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a82132ba1b9f10e98ef35ac17ee006bd6">apply_filters</a>();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a3d11aa2dd3b0f3ca2219213122242277">generate_new_targets</a>();</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keyword">template</span> &lt;<span class="keyword">typename</span> SpecificKWRanker, <span class="keyword">typename</span> SpecificFrameFeatures&gt;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a8899346bcdeb1b536f14b1eac777716d">rescore_keywords</a>(SpecificKWRanker&amp; kw_ranker, <span class="keyword">const</span> <a class="code" href="namespacesh.html#aa45f67c730dfeb41be23f84ab2e7d610">TextualQuery</a>&amp; query, <span class="keywordtype">size_t</span> temporal,</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                          <span class="keyword">const</span> SpecificFrameFeatures&amp; features);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160; </div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a1078d85eb5bc4d66b1f5335978920071">rescore_feedback</a>();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160; </div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a256a80af6a005fde472a6a7b4cf19f47">som_start</a>(<span class="keywordtype">size_t</span> temporal);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160; </div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <a class="code" href="classsh_1_1_frame_pointer_range.html">FramePointerRange</a> <a class="code" href="classsh_1_1_somhunter.html#ad82fbb59b1dd9e0402492eb0dfa1bb49">get_random_display</a>();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160; </div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="classsh_1_1_frame_pointer_range.html">FramePointerRange</a> <a class="code" href="classsh_1_1_somhunter.html#aed64cb69bc9f45a26ce5f2f4ffb69a19">get_topn_display</a>(<a class="code" href="namespacesh.html#a25338a82411511a7536f78ecfbbe15cb">PageId</a> page);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <a class="code" href="classsh_1_1_frame_pointer_range.html">FramePointerRange</a> <a class="code" href="classsh_1_1_somhunter.html#a7988b563061e3b565573a411d7da4741">get_topn_context_display</a>(<a class="code" href="namespacesh.html#a25338a82411511a7536f78ecfbbe15cb">PageId</a> page);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160; </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    <a class="code" href="classsh_1_1_frame_pointer_range.html">FramePointerRange</a> <a class="code" href="classsh_1_1_somhunter.html#a3cdab53a85395806c81d95d4aa48814c">get_som_display</a>();</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160; </div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="classsh_1_1_frame_pointer_range.html">FramePointerRange</a> <a class="code" href="classsh_1_1_somhunter.html#a24a54c44ff85f35e2cf33bef35c2d83e">get_som_relocation_display</a>(<span class="keywordtype">size_t</span> temp_id);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <a class="code" href="classsh_1_1_frame_pointer_range.html">FramePointerRange</a> <a class="code" href="classsh_1_1_somhunter.html#a1d94398782594d348d48e42b61157b28">get_video_detail_display</a>(<a class="code" href="namespacesh.html#afc709d69056aeb5c2549b4437b56aaf1">FrameId</a> selected_image, <span class="keywordtype">bool</span> log_it = <span class="keyword">true</span>);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="classsh_1_1_frame_pointer_range.html">FramePointerRange</a> <a class="code" href="classsh_1_1_somhunter.html#a5e42f6bdfbaa753fc274ac043eea1e35">get_topKNN_display</a>(<a class="code" href="namespacesh.html#afc709d69056aeb5c2549b4437b56aaf1">FrameId</a> selected_image, <a class="code" href="namespacesh.html#a25338a82411511a7536f78ecfbbe15cb">PageId</a> page);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160; </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">// Gets only part of last display</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="classsh_1_1_frame_pointer_range.html">FramePointerRange</a> <a class="code" href="classsh_1_1_somhunter.html#a3a0ed87253d91ebf7041ed6f1b8a9455">get_page_from_last</a>(<a class="code" href="namespacesh.html#a25338a82411511a7536f78ecfbbe15cb">PageId</a> page);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160; </div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a4662c9bc219c57f381c84b40d90d946e">reset_scores</a>(<span class="keywordtype">float</span> val = 1.0F);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160; </div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a9b3c6b915a752e2e552959eb36954483">push_search_ctx</a>();</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordtype">bool</span> <a class="code" href="classsh_1_1_somhunter.html#a5c88c4b24985c7d023a15f6935772352">has_metadata</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    <span class="keyword">friend</span> sh::tests::TESTER_Somhunter;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">// ---</span></div>
<div class="line"><a name="l00247"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#a6782b6df927bf655fd9683643e74292e">  247</a></span>&#160;<span class="comment"></span>    <span class="keyword">const</span> <a class="code" href="structsh_1_1_settings.html">Settings</a> <a class="code" href="classsh_1_1_somhunter.html#a6782b6df927bf655fd9683643e74292e">_settings</a>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment">// ********************************</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment">// Loaded dataset</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">//      (shared for all the users)</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// ********************************</span></div>
<div class="line"><a name="l00253"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#a3cca59fc5f5126ad5fc741ab236fa229">  253</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classsh_1_1_dataset_frames.html">DatasetFrames</a> <a class="code" href="classsh_1_1_somhunter.html#a3cca59fc5f5126ad5fc741ab236fa229">_dataset_frames</a>;</div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#ad88547f0d520e0e2f1965769688dd3d3">  254</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classsh_1_1_dataset_features.html">DatasetFeatures</a> <a class="code" href="classsh_1_1_somhunter.html#ad88547f0d520e0e2f1965769688dd3d3">_dataset_features</a>;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160; </div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <span class="comment">// ********************************</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="comment">// User contexts</span></div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">//      (private for each unique user session)</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="comment">// ********************************</span></div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#abdad22313a198bbcc3b1cd6e98c9582a">  260</a></span>&#160;    <a class="code" href="classsh_1_1_user_context.html">UserContext</a> <a class="code" href="classsh_1_1_somhunter.html#abdad22313a198bbcc3b1cd6e98c9582a">_user_context</a>;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="comment">// ********************************</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="comment">// Services</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="comment">//      (shared for all the users)</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <span class="comment">// ********************************</span></div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#ad462a4ff672deab73cc6f309ec249acf">  266</a></span>&#160;    <span class="keyword">const</span> std::string <a class="code" href="classsh_1_1_somhunter.html#ad462a4ff672deab73cc6f309ec249acf">_core_settings_filepath</a>;</div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#ab0332f100bd193a5404ed3643fdc751f">  267</a></span>&#160;    <span class="keyword">const</span> std::string <a class="code" href="classsh_1_1_somhunter.html#ab0332f100bd193a5404ed3643fdc751f">_API_settings_filepath</a>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="line"><a name="l00269"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#aadbf11acb5ca422283e2732ca9146cd3">  269</a></span>&#160;    <a class="code" href="classsh_1_1_keyword_ranker.html">KeywordRanker</a> <a class="code" href="classsh_1_1_somhunter.html#aadbf11acb5ca422283e2732ca9146cd3">_keyword_ranker</a>;</div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#afd4faa8beac93ae20892065099ad8a5d">  270</a></span>&#160;    <a class="code" href="classsh_1_1_keyword_clip_ranker.html">KeywordClipRanker</a> <a class="code" href="classsh_1_1_somhunter.html#afd4faa8beac93ae20892065099ad8a5d">_secondary_keyword_ranker</a>;</div>
<div class="line"><a name="l00271"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#ae15fc24709b4100aba77d8dfd3e324cc">  271</a></span>&#160;    <a class="code" href="classsh_1_1_canvas_query_ranker.html">CanvasQueryRanker</a> <a class="code" href="classsh_1_1_somhunter.html#ae15fc24709b4100aba77d8dfd3e324cc">_collage_ranker</a>;</div>
<div class="line"><a name="l00272"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#aa16d14e2693943562c8d9cf2163b2a20">  272</a></span>&#160;    <span class="keyword">const</span> <a class="code" href="classsh_1_1_relocation_ranker.html">RelocationRanker</a> <a class="code" href="classsh_1_1_somhunter.html#aa16d14e2693943562c8d9cf2163b2a20">_relocation_ranker</a>;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;};</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160; </div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">// ---</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160; </div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<span class="keyword">template</span> &lt;<span class="keyword">typename</span> SpecificKWRanker, <span class="keyword">typename</span> SpecificFrameFeatures&gt;</div>
<div class="line"><a name="l00278"></a><span class="lineno"><a class="line" href="classsh_1_1_somhunter.html#a8899346bcdeb1b536f14b1eac777716d">  278</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="classsh_1_1_somhunter.html#a8899346bcdeb1b536f14b1eac777716d">Somhunter::rescore_keywords</a>(SpecificKWRanker&amp; kw_ranker, <span class="keyword">const</span> <a class="code" href="namespacesh.html#aa45f67c730dfeb41be23f84ab2e7d610">TextualQuery</a>&amp; query, <span class="keywordtype">size_t</span> temporal,</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                                 <span class="keyword">const</span> SpecificFrameFeatures&amp; features) {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    kw_ranker.rank_sentence_query(query, <a class="code" href="classsh_1_1_somhunter.html#abdad22313a198bbcc3b1cd6e98c9582a">_user_context</a>.<a class="code" href="classsh_1_1_user_context.html#a24c8972529e10c76b3a130098ae9c70f">ctx</a>.<a class="code" href="structsh_1_1_search_context.html#a6a96182a2a368e6ee7e317ef4bf46ef8">scores</a>, features, temporal);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160; </div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="classsh_1_1_somhunter.html#abdad22313a198bbcc3b1cd6e98c9582a">_user_context</a>.<a class="code" href="classsh_1_1_user_context.html#a24c8972529e10c76b3a130098ae9c70f">ctx</a>.<a class="code" href="structsh_1_1_search_context.html#a99cb4a101cd78b747193416a0881214d">used_tools</a>.<a class="code" href="structsh_1_1_used_tools.html#a74bbc381b1961c11d979031fd731b2bd">text_search_used</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;};      <span class="comment">// namespace sh</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">// SOMHUNTER_H_</span></div>
<div class="ttc" id="aasync-som_8h_html"><div class="ttname"><a href="async-som_8h.html">async-som.h</a></div></div>
<div class="ttc" id="acanvas-query-ranker_8h_html"><div class="ttname"><a href="canvas-query-ranker_8h.html">canvas-query-ranker.h</a></div></div>
<div class="ttc" id="aclasssh_1_1_canvas_query_ranker_html"><div class="ttname"><a href="classsh_1_1_canvas_query_ranker.html">sh::CanvasQueryRanker</a></div><div class="ttdef"><b>Definition:</b> canvas-query-ranker.h:95</div></div>
<div class="ttc" id="aclasssh_1_1_dataset_features_html"><div class="ttname"><a href="classsh_1_1_dataset_features.html">sh::DatasetFeatures</a></div><div class="ttdoc">Represents all available feature sets.</div><div class="ttdef"><b>Definition:</b> dataset-features.h:81</div></div>
<div class="ttc" id="aclasssh_1_1_dataset_frames_html"><div class="ttname"><a href="classsh_1_1_dataset_frames.html">sh::DatasetFrames</a></div><div class="ttdef"><b>Definition:</b> dataset-frames.h:162</div></div>
<div class="ttc" id="aclasssh_1_1_dataset_frames_html_a8c8fd017c9b8ac9c8490bce4734eb1bd"><div class="ttname"><a href="classsh_1_1_dataset_frames.html#a8c8fd017c9b8ac9c8490bce4734eb1bd">sh::DatasetFrames::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> dataset-frames.h:194</div></div>
<div class="ttc" id="aclasssh_1_1_frame_pointer_range_html"><div class="ttname"><a href="classsh_1_1_frame_pointer_range.html">sh::FramePointerRange</a></div><div class="ttdoc">Represents CONTINOUS range of const frame pointers.</div><div class="ttdef"><b>Definition:</b> dataset-frames.h:121</div></div>
<div class="ttc" id="aclasssh_1_1_keyword_clip_ranker_html"><div class="ttname"><a href="classsh_1_1_keyword_clip_ranker.html">sh::KeywordClipRanker</a></div><div class="ttdef"><b>Definition:</b> keyword-clip-ranker.h:38</div></div>
<div class="ttc" id="aclasssh_1_1_keyword_ranker_html"><div class="ttname"><a href="classsh_1_1_keyword_ranker.html">sh::KeywordRanker</a></div><div class="ttdef"><b>Definition:</b> keyword-ranker.h:52</div></div>
<div class="ttc" id="aclasssh_1_1_relocation_ranker_html"><div class="ttname"><a href="classsh_1_1_relocation_ranker.html">sh::RelocationRanker</a></div><div class="ttdef"><b>Definition:</b> relocation-ranker.h:42</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html"><div class="ttname"><a href="classsh_1_1_somhunter.html">sh::Somhunter</a></div><div class="ttdoc">The main C++ API of the SOMHunter Core.</div><div class="ttdef"><b>Definition:</b> somhunter.h:54</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a0040c7a25365e47606bd581bb05bc04f"><div class="ttname"><a href="classsh_1_1_somhunter.html#a0040c7a25365e47606bd581bb05bc04f">sh::Somhunter::get_num_frames</a></div><div class="ttdeci">size_t get_num_frames() const</div><div class="ttdef"><b>Definition:</b> somhunter.h:150</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a00d36e812ffb981eee3407c8d2612cdc"><div class="ttname"><a href="classsh_1_1_somhunter.html#a00d36e812ffb981eee3407c8d2612cdc">sh::Somhunter::benchmark_canvas_queries</a></div><div class="ttdeci">void benchmark_canvas_queries(const std::string &amp;queries_dir, const std::string &amp;out_dir)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:813</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a03ade07827b065497aac607074f018b5"><div class="ttname"><a href="classsh_1_1_somhunter.html#a03ade07827b065497aac607074f018b5">sh::Somhunter::run_basic_test</a></div><div class="ttdeci">void run_basic_test()</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:272</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a09bf5335e531913a41672b589e337f45"><div class="ttname"><a href="classsh_1_1_somhunter.html#a09bf5335e531913a41672b589e337f45">sh::Somhunter::benchmark_real_queries</a></div><div class="ttdeci">void benchmark_real_queries(const std::string &amp;queries_dir, const std::string &amp;targets_fpth, const std::string &amp;out_dir)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:998</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a0cf4e0ec9d180fa54b8911d0adf3b24b"><div class="ttname"><a href="classsh_1_1_somhunter.html#a0cf4e0ec9d180fa54b8911d0adf3b24b">sh::Somhunter::like_frames</a></div><div class="ttdeci">std::vector&lt; bool &gt; like_frames(const std::vector&lt; FrameId &gt; &amp;new_likes)</div><div class="ttdoc">Inverts the like states of the provided frames and returns the new states.</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:130</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a1078d85eb5bc4d66b1f5335978920071"><div class="ttname"><a href="classsh_1_1_somhunter.html#a1078d85eb5bc4d66b1f5335978920071">sh::Somhunter::rescore_feedback</a></div><div class="ttdeci">void rescore_feedback()</div><div class="ttdoc">Applies the relevance feedback from the user based on images the user already saw (as implicit negati...</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1354</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a1724291050b729a6fa4dcd294315064a"><div class="ttname"><a href="classsh_1_1_somhunter.html#a1724291050b729a6fa4dcd294315064a">sh::Somhunter::autocomplete_keywords</a></div><div class="ttdeci">std::vector&lt; const Keyword * &gt; autocomplete_keywords(const std::string &amp;prefix, size_t count=5) const</div><div class="ttdoc">Returns the nearest supported keyword matches to the provided prefix.</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:193</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a1d94398782594d348d48e42b61157b28"><div class="ttname"><a href="classsh_1_1_somhunter.html#a1d94398782594d348d48e42b61157b28">sh::Somhunter::get_video_detail_display</a></div><div class="ttdeci">FramePointerRange get_video_detail_display(FrameId selected_image, bool log_it=true)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1481</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a1f18bd321d4cc54feb694070906df0d5"><div class="ttname"><a href="classsh_1_1_somhunter.html#a1f18bd321d4cc54feb694070906df0d5">sh::Somhunter::generate_example_images_for_keywords</a></div><div class="ttdeci">void generate_example_images_for_keywords()</div><div class="ttdoc">Generates the top example images from the database for all supported W2VV keywords.</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1217</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a24a54c44ff85f35e2cf33bef35c2d83e"><div class="ttname"><a href="classsh_1_1_somhunter.html#a24a54c44ff85f35e2cf33bef35c2d83e">sh::Somhunter::get_som_relocation_display</a></div><div class="ttdeci">FramePointerRange get_som_relocation_display(size_t temp_id)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1457</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a251acc45f657013f0306f99e053396e5"><div class="ttname"><a href="classsh_1_1_somhunter.html#a251acc45f657013f0306f99e053396e5">sh::Somhunter::write_query</a></div><div class="ttdeci">static void write_query(const std::string &amp;file, const Query &amp;q)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1292</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a256a80af6a005fde472a6a7b4cf19f47"><div class="ttname"><a href="classsh_1_1_somhunter.html#a256a80af6a005fde472a6a7b4cf19f47">sh::Somhunter::som_start</a></div><div class="ttdeci">void som_start(size_t temporal)</div><div class="ttdoc">Gives the SOM worker the new work.</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1368</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a25acff9d57bb3b5de500f0a14461d0d5"><div class="ttname"><a href="classsh_1_1_somhunter.html#a25acff9d57bb3b5de500f0a14461d0d5">sh::Somhunter::log_canvas_query_change</a></div><div class="ttdeci">void log_canvas_query_change()</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:659</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a271ae1a2b1eb6862b6d0630f191bd92e"><div class="ttname"><a href="classsh_1_1_somhunter.html#a271ae1a2b1eb6862b6d0630f191bd92e">sh::Somhunter::log_scroll</a></div><div class="ttdeci">void log_scroll(DisplayType t, float delta_Y)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:653</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a30658266ba3eed71096e176d3c78fc8e"><div class="ttname"><a href="classsh_1_1_somhunter.html#a30658266ba3eed71096e176d3c78fc8e">sh::Somhunter::Somhunter</a></div><div class="ttdeci">Somhunter()=delete</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a32aa83662d31e8cb987a98c213dba56f"><div class="ttname"><a href="classsh_1_1_somhunter.html#a32aa83662d31e8cb987a98c213dba56f">sh::Somhunter::submit_to_eval_server</a></div><div class="ttdeci">SubmitResult submit_to_eval_server(FrameId frame_id)</div><div class="ttdoc">Sumbits frame with given id to VBS server.</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:612</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a380e57794f4a538b1afb753ae71bb84f"><div class="ttname"><a href="classsh_1_1_somhunter.html#a380e57794f4a538b1afb753ae71bb84f">sh::Somhunter::logout_from_eval_server</a></div><div class="ttdeci">bool logout_from_eval_server()</div><div class="ttdoc">Tries to logout from the remote evaluation server (competition one).</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:610</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a3a0ed87253d91ebf7041ed6f1b8a9455"><div class="ttname"><a href="classsh_1_1_somhunter.html#a3a0ed87253d91ebf7041ed6f1b8a9455">sh::Somhunter::get_page_from_last</a></div><div class="ttdeci">FramePointerRange get_page_from_last(PageId page)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1536</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a3cca59fc5f5126ad5fc741ab236fa229"><div class="ttname"><a href="classsh_1_1_somhunter.html#a3cca59fc5f5126ad5fc741ab236fa229">sh::Somhunter::_dataset_frames</a></div><div class="ttdeci">const DatasetFrames _dataset_frames</div><div class="ttdef"><b>Definition:</b> somhunter.h:253</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a3cdab53a85395806c81d95d4aa48814c"><div class="ttname"><a href="classsh_1_1_somhunter.html#a3cdab53a85395806c81d95d4aa48814c">sh::Somhunter::get_som_display</a></div><div class="ttdeci">FramePointerRange get_som_display()</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1435</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a3d11aa2dd3b0f3ca2219213122242277"><div class="ttname"><a href="classsh_1_1_somhunter.html#a3d11aa2dd3b0f3ca2219213122242277">sh::Somhunter::generate_new_targets</a></div><div class="ttdeci">void generate_new_targets()</div><div class="ttdoc">Generates the new debug targets.</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1322</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a40d486ed33cfa7f1b3c8b9bd69136017"><div class="ttname"><a href="classsh_1_1_somhunter.html#a40d486ed33cfa7f1b3c8b9bd69136017">sh::Somhunter::get_frames</a></div><div class="ttdeci">FrameRange get_frames(VideoId video_ID, FrameNum fr, FrameNum to) const</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1608</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a42789b71a1a9e1504e542473b782ab6b"><div class="ttname"><a href="classsh_1_1_somhunter.html#a42789b71a1a9e1504e542473b782ab6b">sh::Somhunter::reset_search_session</a></div><div class="ttdeci">void reset_search_session()</div><div class="ttdoc">Resets current search context and starts new search.</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:627</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a4662c9bc219c57f381c84b40d90d946e"><div class="ttname"><a href="classsh_1_1_somhunter.html#a4662c9bc219c57f381c84b40d90d946e">sh::Somhunter::reset_scores</a></div><div class="ttdeci">void reset_scores(float val=1.0F)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1556</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a540c053a4258b6e378014adbe0fc85f0"><div class="ttname"><a href="classsh_1_1_somhunter.html#a540c053a4258b6e378014adbe0fc85f0">sh::Somhunter::log_text_query_change</a></div><div class="ttdeci">void log_text_query_change(const std::string &amp;text_query)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:655</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a59e8d942a54fc151641018f45fb913d8"><div class="ttname"><a href="classsh_1_1_somhunter.html#a59e8d942a54fc151641018f45fb913d8">sh::Somhunter::get_frame</a></div><div class="ttdeci">const VideoFrame &amp; get_frame(FrameId ID) const</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1606</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a5c88c4b24985c7d023a15f6935772352"><div class="ttname"><a href="classsh_1_1_somhunter.html#a5c88c4b24985c7d023a15f6935772352">sh::Somhunter::has_metadata</a></div><div class="ttdeci">bool has_metadata() const</div><div class="ttdoc">Returns true if LSC metadata file provided inside the config.</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:212</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a5d90b159998dfd35a9fae50a608b5b0f"><div class="ttname"><a href="classsh_1_1_somhunter.html#a5d90b159998dfd35a9fae50a608b5b0f">sh::Somhunter::get_frame_ptr</a></div><div class="ttdeci">VideoFramePointer get_frame_ptr(FrameId img) const</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1612</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a5e42f6bdfbaa753fc274ac043eea1e35"><div class="ttname"><a href="classsh_1_1_somhunter.html#a5e42f6bdfbaa753fc274ac043eea1e35">sh::Somhunter::get_topKNN_display</a></div><div class="ttdeci">FramePointerRange get_topKNN_display(FrameId selected_image, PageId page)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1507</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a6151f28f7d401ec2413411bcde803990"><div class="ttname"><a href="classsh_1_1_somhunter.html#a6151f28f7d401ec2413411bcde803990">sh::Somhunter::write_query_info</a></div><div class="ttdeci">static void write_query_info(const std::string &amp;file, const std::string &amp;ID, const std::string &amp;user, const std::tuple&lt; VideoId, FrameId, FrameId &gt; &amp;target, std::size_t pos_vid, std::size_t pos_fr, std::size_t unpos_vid, std::size_t unpos_fr)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1301</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a653159d1bedd70454454de3213dd1273"><div class="ttname"><a href="classsh_1_1_somhunter.html#a653159d1bedd70454454de3213dd1273">sh::Somhunter::rescore</a></div><div class="ttdeci">RescoreResult rescore(Query &amp;query, bool benchmark_run=false)</div><div class="ttdoc">Applies all algorithms for score computation and updates context.</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:399</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a675a8c077612bf99aefe2be6998eb88b"><div class="ttname"><a href="classsh_1_1_somhunter.html#a675a8c077612bf99aefe2be6998eb88b">sh::Somhunter::som_ready</a></div><div class="ttdeci">bool som_ready() const</div><div class="ttdoc">Returns true if the user's SOM is ready.</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:605</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a6782b6df927bf655fd9683643e74292e"><div class="ttname"><a href="classsh_1_1_somhunter.html#a6782b6df927bf655fd9683643e74292e">sh::Somhunter::_settings</a></div><div class="ttdeci">const Settings _settings</div><div class="ttdoc">Current application settings.</div><div class="ttdef"><b>Definition:</b> somhunter.h:247</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a67d355b17c266c519d67fc354f62014a"><div class="ttname"><a href="classsh_1_1_somhunter.html#a67d355b17c266c519d67fc354f62014a">sh::Somhunter::switch_search_context</a></div><div class="ttdeci">const UserContext &amp; switch_search_context(size_t index, size_t src_search_ctx_ID=SIZE_T_ERR_VAL, const std::string &amp;screenshot_fpth=&quot;&quot;, const std::string &amp;label=&quot;&quot;)</div><div class="ttdoc">Switches the search context for the user to the provided index in the history and returns reference t...</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1561</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a6a274dc543a0a81fc662dbc852ee7223"><div class="ttname"><a href="classsh_1_1_somhunter.html#a6a274dc543a0a81fc662dbc852ee7223">sh::Somhunter::log_video_replay</a></div><div class="ttdeci">void log_video_replay(FrameId frame_ID, float delta_X)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:649</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a6dd0251edf45f4ca67c90e3ca05ecf23"><div class="ttname"><a href="classsh_1_1_somhunter.html#a6dd0251edf45f4ca67c90e3ca05ecf23">sh::Somhunter::login_to_eval_server</a></div><div class="ttdeci">bool login_to_eval_server()</div><div class="ttdoc">Tries to login into the remote evaluation server (competition one).</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:609</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a6f6beedaaa83a847a39c39ef764dfa37"><div class="ttname"><a href="classsh_1_1_somhunter.html#a6f6beedaaa83a847a39c39ef764dfa37">sh::Somhunter::get_top_scored_scores</a></div><div class="ttdeci">std::vector&lt; float &gt; get_top_scored_scores(std::vector&lt; FrameId &gt; &amp;top_scored_frames) const</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:680</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a76f07ed78a3f041b9bd098d3736012d4"><div class="ttname"><a href="classsh_1_1_somhunter.html#a76f07ed78a3f041b9bd098d3736012d4">sh::Somhunter::get_top_scored_frames</a></div><div class="ttdeci">std::vector&lt; VideoFramePointer &gt; get_top_scored_frames(size_t max_count=0, size_t from_video=0, size_t from_shot=0) const</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:674</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a7988b563061e3b565573a411d7da4741"><div class="ttname"><a href="classsh_1_1_somhunter.html#a7988b563061e3b565573a411d7da4741">sh::Somhunter::get_topn_context_display</a></div><div class="ttdeci">FramePointerRange get_topn_context_display(PageId page)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1414</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a8103ecddb86bbe16ab52cc7a1512f69e"><div class="ttname"><a href="classsh_1_1_somhunter.html#a8103ecddb86bbe16ab52cc7a1512f69e">sh::Somhunter::find_targets</a></div><div class="ttdeci">size_t find_targets(const std::vector&lt; FrameId &gt; &amp;top_scored, const std::vector&lt; FrameId &gt; &amp;targets) const</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:689</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a82132ba1b9f10e98ef35ac17ee006bd6"><div class="ttname"><a href="classsh_1_1_somhunter.html#a82132ba1b9f10e98ef35ac17ee006bd6">sh::Somhunter::apply_filters</a></div><div class="ttdeci">void apply_filters()</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:223</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a83c6b1ab026ebc989c1faeabac1c0cfb"><div class="ttname"><a href="classsh_1_1_somhunter.html#a83c6b1ab026ebc989c1faeabac1c0cfb">sh::Somhunter::get_user_context</a></div><div class="ttdeci">const UserContext &amp; get_user_context() const</div><div class="ttdoc">Returns a reference to the current user's context.</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1604</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a8899346bcdeb1b536f14b1eac777716d"><div class="ttname"><a href="classsh_1_1_somhunter.html#a8899346bcdeb1b536f14b1eac777716d">sh::Somhunter::rescore_keywords</a></div><div class="ttdeci">void rescore_keywords(SpecificKWRanker &amp;kw_ranker, const TextualQuery &amp;query, size_t temporal, const SpecificFrameFeatures &amp;features)</div><div class="ttdoc">Applies text query from the user.</div><div class="ttdef"><b>Definition:</b> somhunter.h:278</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a9b3c6b915a752e2e552959eb36954483"><div class="ttname"><a href="classsh_1_1_somhunter.html#a9b3c6b915a752e2e552959eb36954483">sh::Somhunter::push_search_ctx</a></div><div class="ttdeci">void push_search_ctx()</div><div class="ttdoc">Adds the currently active search context to the history and starts a new context (with next contiguou...</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:214</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_a9e04b38ac4fa58799c8b77146b195af4"><div class="ttname"><a href="classsh_1_1_somhunter.html#a9e04b38ac4fa58799c8b77146b195af4">sh::Somhunter::benchmark_native_text_queries</a></div><div class="ttdeci">void benchmark_native_text_queries(const std::string &amp;queries_filepath, const std::string &amp;out_dir)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:706</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_aa16d14e2693943562c8d9cf2163b2a20"><div class="ttname"><a href="classsh_1_1_somhunter.html#aa16d14e2693943562c8d9cf2163b2a20">sh::Somhunter::_relocation_ranker</a></div><div class="ttdeci">const RelocationRanker _relocation_ranker</div><div class="ttdef"><b>Definition:</b> somhunter.h:272</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_aadbf11acb5ca422283e2732ca9146cd3"><div class="ttname"><a href="classsh_1_1_somhunter.html#aadbf11acb5ca422283e2732ca9146cd3">sh::Somhunter::_keyword_ranker</a></div><div class="ttdeci">KeywordRanker _keyword_ranker</div><div class="ttdef"><b>Definition:</b> somhunter.h:269</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_ab0332f100bd193a5404ed3643fdc751f"><div class="ttname"><a href="classsh_1_1_somhunter.html#ab0332f100bd193a5404ed3643fdc751f">sh::Somhunter::_API_settings_filepath</a></div><div class="ttdeci">const std::string _API_settings_filepath</div><div class="ttdef"><b>Definition:</b> somhunter.h:267</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_ab4bea33203854246a38ed3143cc1c650"><div class="ttname"><a href="classsh_1_1_somhunter.html#ab4bea33203854246a38ed3143cc1c650">sh::Somhunter::get_search_context</a></div><div class="ttdeci">const SearchContext &amp; get_search_context() const</div><div class="ttdoc">Returns a reference to the current user's search context.</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1602</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_ab8d7ab5ade0a468bfc49607c9f061381"><div class="ttname"><a href="classsh_1_1_somhunter.html#ab8d7ab5ade0a468bfc49607c9f061381">sh::Somhunter::write_resultset</a></div><div class="ttdeci">static void write_resultset(const std::string &amp;file, const std::vector&lt; VideoFramePointer &gt; &amp;results)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1268</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_ab9ce803d922e019d89ab4f65f0bc763e"><div class="ttname"><a href="classsh_1_1_somhunter.html#ab9ce803d922e019d89ab4f65f0bc763e">sh::Somhunter::get_config_filepath</a></div><div class="ttdeci">const std::string &amp; get_config_filepath()</div><div class="ttdef"><b>Definition:</b> somhunter.h:161</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_abb3ca897d1378ad5dc5ba32c45bb0072"><div class="ttname"><a href="classsh_1_1_somhunter.html#abb3ca897d1378ad5dc5ba32c45bb0072">sh::Somhunter::store_rescore_screenshot</a></div><div class="ttdeci">std::string store_rescore_screenshot(const std::string &amp;filepath)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:661</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_abcf1e1a1a0d3e45cfbe12f95ba280c2e"><div class="ttname"><a href="classsh_1_1_somhunter.html#abcf1e1a1a0d3e45cfbe12f95ba280c2e">sh::Somhunter::get_API_config_filepath</a></div><div class="ttdeci">const std::string &amp; get_API_config_filepath()</div><div class="ttdef"><b>Definition:</b> somhunter.h:162</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_abdad22313a198bbcc3b1cd6e98c9582a"><div class="ttname"><a href="classsh_1_1_somhunter.html#abdad22313a198bbcc3b1cd6e98c9582a">sh::Somhunter::_user_context</a></div><div class="ttdeci">UserContext _user_context</div><div class="ttdef"><b>Definition:</b> somhunter.h:260</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_accc6d49519a1591bc69dfc8903def135"><div class="ttname"><a href="classsh_1_1_somhunter.html#accc6d49519a1591bc69dfc8903def135">sh::Somhunter::run_generators</a></div><div class="ttdeci">void run_generators()</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:384</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_ad462a4ff672deab73cc6f309ec249acf"><div class="ttname"><a href="classsh_1_1_somhunter.html#ad462a4ff672deab73cc6f309ec249acf">sh::Somhunter::_core_settings_filepath</a></div><div class="ttdeci">const std::string _core_settings_filepath</div><div class="ttdef"><b>Definition:</b> somhunter.h:266</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_ad82fbb59b1dd9e0402492eb0dfa1bb49"><div class="ttname"><a href="classsh_1_1_somhunter.html#ad82fbb59b1dd9e0402492eb0dfa1bb49">sh::Somhunter::get_random_display</a></div><div class="ttdeci">FramePointerRange get_random_display()</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1377</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_ad88547f0d520e0e2f1965769688dd3d3"><div class="ttname"><a href="classsh_1_1_somhunter.html#ad88547f0d520e0e2f1965769688dd3d3">sh::Somhunter::_dataset_features</a></div><div class="ttdeci">const DatasetFeatures _dataset_features</div><div class="ttdef"><b>Definition:</b> somhunter.h:254</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_ad9b7a0aebe829ff0c45be4b6dcebfca6"><div class="ttname"><a href="classsh_1_1_somhunter.html#ad9b7a0aebe829ff0c45be4b6dcebfca6">sh::Somhunter::settings</a></div><div class="ttdeci">const Settings &amp; settings() const</div><div class="ttdef"><b>Definition:</b> somhunter.h:160</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_adb7fb5713277723eabefeffb8ac0b0c1"><div class="ttname"><a href="classsh_1_1_somhunter.html#adb7fb5713277723eabefeffb8ac0b0c1">sh::Somhunter::get_top_scored</a></div><div class="ttdeci">const std::vector&lt; FrameId &gt; &amp; get_top_scored(size_t max_count=0, size_t from_video=0, size_t from_shot=0) const</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:670</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_ae15fc24709b4100aba77d8dfd3e324cc"><div class="ttname"><a href="classsh_1_1_somhunter.html#ae15fc24709b4100aba77d8dfd3e324cc">sh::Somhunter::_collage_ranker</a></div><div class="ttdeci">CanvasQueryRanker _collage_ranker</div><div class="ttdef"><b>Definition:</b> somhunter.h:271</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_ae2d6276e66c227d5f20c62d1c59d5450"><div class="ttname"><a href="classsh_1_1_somhunter.html#ae2d6276e66c227d5f20c62d1c59d5450">sh::Somhunter::textual_model</a></div><div class="ttdeci">const KeywordRanker * textual_model()</div><div class="ttdef"><b>Definition:</b> somhunter.h:163</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_aed64cb69bc9f45a26ce5f2f4ffb69a19"><div class="ttname"><a href="classsh_1_1_somhunter.html#aed64cb69bc9f45a26ce5f2f4ffb69a19">sh::Somhunter::get_topn_display</a></div><div class="ttdeci">FramePointerRange get_topn_display(PageId page)</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:1392</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_af3baf9dff6c4a7a8f74f90f2f6ef061e"><div class="ttname"><a href="classsh_1_1_somhunter.html#af3baf9dff6c4a7a8f74f90f2f6ef061e">sh::Somhunter::get_display</a></div><div class="ttdeci">GetDisplayResult get_display(DisplayType d_type, FrameId selected_image=0, PageId page=0, bool log_it=true)</div><div class="ttdoc">Returns display of the desired type.</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:54</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_af9fa7a338e5698aa257f05c217bcfbf2"><div class="ttname"><a href="classsh_1_1_somhunter.html#af9fa7a338e5698aa257f05c217bcfbf2">sh::Somhunter::bookmark_frames</a></div><div class="ttdeci">std::vector&lt; bool &gt; bookmark_frames(const std::vector&lt; FrameId &gt; &amp;new_bookmarks)</div><div class="ttdoc">(De)selects the provided frames from the bookmark list.</div><div class="ttdef"><b>Definition:</b> somhunter.cpp:162</div></div>
<div class="ttc" id="aclasssh_1_1_somhunter_html_afd4faa8beac93ae20892065099ad8a5d"><div class="ttname"><a href="classsh_1_1_somhunter.html#afd4faa8beac93ae20892065099ad8a5d">sh::Somhunter::_secondary_keyword_ranker</a></div><div class="ttdeci">KeywordClipRanker _secondary_keyword_ranker</div><div class="ttdef"><b>Definition:</b> somhunter.h:270</div></div>
<div class="ttc" id="aclasssh_1_1_user_context_html"><div class="ttname"><a href="classsh_1_1_user_context.html">sh::UserContext</a></div><div class="ttdoc">Represents exactly one state of ONE user that uses this core.</div><div class="ttdef"><b>Definition:</b> user-context.h:38</div></div>
<div class="ttc" id="aclasssh_1_1_user_context_html_a24c8972529e10c76b3a130098ae9c70f"><div class="ttname"><a href="classsh_1_1_user_context.html#a24c8972529e10c76b3a130098ae9c70f">sh::UserContext::ctx</a></div><div class="ttdeci">SearchContext ctx</div><div class="ttdef"><b>Definition:</b> user-context.h:72</div></div>
<div class="ttc" id="acommon-types_8h_html_a8f701a02fe9a5dae7f259eb13274aa77"><div class="ttname"><a href="common-types_8h.html#a8f701a02fe9a5dae7f259eb13274aa77">SIZE_T_ERR_VAL</a></div><div class="ttdeci">#define SIZE_T_ERR_VAL</div><div class="ttdef"><b>Definition:</b> common-types.h:92</div></div>
<div class="ttc" id="acommon_8h_html"><div class="ttname"><a href="common_8h.html">common.h</a></div></div>
<div class="ttc" id="adataset-features_8h_html"><div class="ttname"><a href="dataset-features_8h.html">dataset-features.h</a></div></div>
<div class="ttc" id="adataset-frames_8h_html"><div class="ttname"><a href="dataset-frames_8h.html">dataset-frames.h</a></div></div>
<div class="ttc" id="aimage-processor_8h_html"><div class="ttname"><a href="image-processor_8h.html">image-processor.h</a></div></div>
<div class="ttc" id="akeyword-clip-ranker_8h_html"><div class="ttname"><a href="keyword-clip-ranker_8h.html">keyword-clip-ranker.h</a></div></div>
<div class="ttc" id="akeyword-ranker_8h_html"><div class="ttname"><a href="keyword-ranker_8h.html">keyword-ranker.h</a></div></div>
<div class="ttc" id="alogger_8h_html"><div class="ttname"><a href="logger_8h.html">logger.h</a></div></div>
<div class="ttc" id="anamespacesh_html"><div class="ttname"><a href="namespacesh.html">sh</a></div><div class="ttdef"><b>Definition:</b> common-types.h:33</div></div>
<div class="ttc" id="anamespacesh_html_a07838d5ca4e76cffb17f58b0e9b0a87b"><div class="ttname"><a href="namespacesh.html#a07838d5ca4e76cffb17f58b0e9b0a87b">sh::VideoId</a></div><div class="ttdeci">unsigned VideoId</div><div class="ttdef"><b>Definition:</b> common-types.h:71</div></div>
<div class="ttc" id="anamespacesh_html_a25338a82411511a7536f78ecfbbe15cb"><div class="ttname"><a href="namespacesh.html#a25338a82411511a7536f78ecfbbe15cb">sh::PageId</a></div><div class="ttdeci">unsigned PageId</div><div class="ttdef"><b>Definition:</b> common-types.h:240</div></div>
<div class="ttc" id="anamespacesh_html_a725c6423600b95f1598d2b59dfce0fa9"><div class="ttname"><a href="namespacesh.html#a725c6423600b95f1598d2b59dfce0fa9">sh::FrameNum</a></div><div class="ttdeci">unsigned FrameNum</div><div class="ttdef"><b>Definition:</b> common-types.h:72</div></div>
<div class="ttc" id="anamespacesh_html_aa45f67c730dfeb41be23f84ab2e7d610"><div class="ttname"><a href="namespacesh.html#aa45f67c730dfeb41be23f84ab2e7d610">sh::TextualQuery</a></div><div class="ttdeci">std::string TextualQuery</div><div class="ttdef"><b>Definition:</b> query-types.h:155</div></div>
<div class="ttc" id="anamespacesh_html_aaa5923994cc0a8bf094ee0cb77d810f2"><div class="ttname"><a href="namespacesh.html#aaa5923994cc0a8bf094ee0cb77d810f2">sh::DisplayType</a></div><div class="ttdeci">DisplayType</div><div class="ttdef"><b>Definition:</b> common-types.h:102</div></div>
<div class="ttc" id="anamespacesh_html_adda4bd5fe5f948c6b9e92399bbedbd54"><div class="ttname"><a href="namespacesh.html#adda4bd5fe5f948c6b9e92399bbedbd54">sh::SubmitResult</a></div><div class="ttdeci">SubmitResult</div><div class="ttdef"><b>Definition:</b> common-types.h:56</div></div>
<div class="ttc" id="anamespacesh_html_afc709d69056aeb5c2549b4437b56aaf1"><div class="ttname"><a href="namespacesh.html#afc709d69056aeb5c2549b4437b56aaf1">sh::FrameId</a></div><div class="ttdeci">unsigned long FrameId</div><div class="ttdef"><b>Definition:</b> common-types.h:75</div></div>
<div class="ttc" id="aquery-types_8h_html"><div class="ttname"><a href="query-types_8h.html">query-types.h</a></div></div>
<div class="ttc" id="arelocation-ranker_8h_html"><div class="ttname"><a href="relocation-ranker_8h.html">relocation-ranker.h</a></div></div>
<div class="ttc" id="ascores_8h_html"><div class="ttname"><a href="scores_8h.html">scores.h</a></div></div>
<div class="ttc" id="asearch-context_8h_html"><div class="ttname"><a href="search-context_8h.html">search-context.h</a></div></div>
<div class="ttc" id="astructsh_1_1_frame_range_html"><div class="ttname"><a href="structsh_1_1_frame_range.html">sh::FrameRange</a></div><div class="ttdoc">Represents CONTINOUS range of frames.</div><div class="ttdef"><b>Definition:</b> dataset-frames.h:90</div></div>
<div class="ttc" id="astructsh_1_1_get_display_result_html"><div class="ttname"><a href="structsh_1_1_get_display_result.html">sh::GetDisplayResult</a></div><div class="ttdoc">Result type get_display returns.</div><div class="ttdef"><b>Definition:</b> user-context.h:96</div></div>
<div class="ttc" id="astructsh_1_1_query_html"><div class="ttname"><a href="structsh_1_1_query.html">sh::Query</a></div><div class="ttdoc">The type representing the whole query.</div><div class="ttdef"><b>Definition:</b> query-types.h:470</div></div>
<div class="ttc" id="astructsh_1_1_rescore_result_html"><div class="ttname"><a href="structsh_1_1_rescore_result.html">sh::RescoreResult</a></div><div class="ttdoc">Result type rescore returns.</div><div class="ttdef"><b>Definition:</b> user-context.h:104</div></div>
<div class="ttc" id="astructsh_1_1_search_context_html"><div class="ttname"><a href="structsh_1_1_search_context.html">sh::SearchContext</a></div><div class="ttdoc">Represents exactly one momentary state of a search session.</div><div class="ttdef"><b>Definition:</b> search-context.h:44</div></div>
<div class="ttc" id="astructsh_1_1_search_context_html_a6a96182a2a368e6ee7e317ef4bf46ef8"><div class="ttname"><a href="structsh_1_1_search_context.html#a6a96182a2a368e6ee7e317ef4bf46ef8">sh::SearchContext::scores</a></div><div class="ttdeci">ScoreModel scores</div><div class="ttdef"><b>Definition:</b> search-context.h:70</div></div>
<div class="ttc" id="astructsh_1_1_search_context_html_a99cb4a101cd78b747193416a0881214d"><div class="ttname"><a href="structsh_1_1_search_context.html#a99cb4a101cd78b747193416a0881214d">sh::SearchContext::used_tools</a></div><div class="ttdeci">UsedTools used_tools</div><div class="ttdef"><b>Definition:</b> search-context.h:63</div></div>
<div class="ttc" id="astructsh_1_1_settings_html"><div class="ttname"><a href="structsh_1_1_settings.html">sh::Settings</a></div><div class="ttdoc">Parsed current config of the core.</div><div class="ttdef"><b>Definition:</b> settings.h:190</div></div>
<div class="ttc" id="astructsh_1_1_used_tools_html_a74bbc381b1961c11d979031fd731b2bd"><div class="ttname"><a href="structsh_1_1_used_tools.html#a74bbc381b1961c11d979031fd731b2bd">sh::UsedTools::text_search_used</a></div><div class="ttdeci">bool text_search_used</div><div class="ttdef"><b>Definition:</b> common-types.h:206</div></div>
<div class="ttc" id="astructsh_1_1_video_frame_html"><div class="ttname"><a href="structsh_1_1_video_frame.html">sh::VideoFrame</a></div><div class="ttdef"><b>Definition:</b> dataset-frames.h:40</div></div>
<div class="ttc" id="atask-target-helper_8h_html"><div class="ttname"><a href="task-target-helper_8h.html">task-target-helper.h</a></div></div>
<div class="ttc" id="auser-context_8h_html"><div class="ttname"><a href="user-context_8h.html">user-context.h</a></div></div>
<div class="ttc" id="autils_8hpp_html"><div class="ttname"><a href="utils_8hpp.html">utils.hpp</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_cbaf2f19bfda0c28ea5a0cb4e99e0b36.html">somhunter</a></li><li class="navelem"><a class="el" href="somhunter_8h.html">somhunter.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
